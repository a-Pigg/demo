"use strict";(self["webpackChunk_4010_assetweb"]=self["webpackChunk_4010_assetweb"]||[]).push([[9482],{78067:function(e,t,s){s.d(t,{Z:function(){return n}});var l=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{top:"0","custom-class":"dialog","show-close":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.dialogVisibleOpened,close:e.dialogVisibleClose,closed:e.dialogVisibleClosed}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("span",[e._v(e._s(e.$t("h.title15")))])]),t("div",{staticClass:"right"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){e.dialogVisible=!1}}})])]),t("div",{staticClass:"dialog-body"},[t("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:e.$t("h.basicInformation"),name:"base"}},[t("div",{staticClass:"tab-pane-titel"},[t("span",[e._v(e._s(e.$t("h.basicInformation")))])]),t("div",{staticClass:"tab-pane-content"},[t("el-row",{attrs:{gutter:20}},e._l(e.billFormDetail,(function(s,l){return t("el-col",{key:l,class:s.class,attrs:{span:s.span}},[e._v(" "+e._s(s.val)+" ")])})),1)],1),t("div",{staticClass:"tab-pane-titel"},[t("span",[e._v(e._s(e.$t("h.List")))]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.print,expression:"print"}],staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:e.printAssetCard}},[e._v(e._s(e.$t("h.printLabelBtn")))])],1),t("div",{staticClass:"tab-pane-table"},[e._t("table")],2),t("div",{staticClass:"tab-pane-pagination"},[e._t("pagination")],2)]),e.audit?t("el-tab-pane",{attrs:{label:e.$t("h.auditInformation"),name:"audit"}},[t("el-timeline",e._l(e.auditStep,(function(l,i){return t("el-timeline-item",{key:i},["pedding"==l.state?t("div",{staticClass:"audit-info"},[t("div",{staticClass:"audit-staff"},[t("img",{attrs:{src:s(36108),alt:""}}),t("span",[e._v(e._s(l.auditStaffName))]),t("i",{class:"icon el-icon-"+l.auditState})]),t("div",{staticClass:"popconfirm"},["success"==l.auditState?t("h5",[e._v(" "+e._s(e.$t("h.agree"))+" ")]):e._e(),"error"==l.auditState?t("h5",[e._v(" "+e._s(e.$t("h.reject"))+" ")]):e._e(),"more"==l.auditState?t("h5",[e._v(" "+e._s(e.$t("h.PendingApproval"))+" ")]):e._e(),t("span",[e._v(e._s(l.message))])])]):t("span",[e._v(e._s(e.$t("h.end")))])])})),1)],1):e._e()],1)],1)])},i=[],a={components:{},data(){return{activeName:"base"}},props:{billDetailDialogVisible:{type:Boolean,default:!1},billFormDetail:{type:Array,default:()=>[]},audit:{type:Boolean,default:!0},auditStep:{type:Array,default:()=>[]},print:{type:Boolean,default:!1}},computed:{dialogVisible:{get(){return this.billDetailDialogVisible},set(e){this.$emit("update:billDetailDialogVisible",e)}}},methods:{dialogVisibleOpened(){this.$emit("opened")},dialogVisibleClose(){document.querySelector(".el-tabs__content").scrollTop=0},dialogVisibleClosed(){this.activeName="base",this.$emit("closed")},printAssetCard(){console.log(this.billFormDetail),this.$emit("print")}}},r=a,o=s(1001),c=(0,o.Z)(r,l,i,!1,null,"7bd948f5",null),n=c.exports},22931:function(e,t,s){s.d(t,{Z:function(){return n}});var l=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{top:"0","custom-class":"dialog","show-close":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.dialogVisibleClose}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("span",[e._v(e._s(e.$t("h.documentExport")))])]),t("div",{staticClass:"right"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){e.dialogVisible=!1}}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:""==e.step,expression:"step == ''"}],staticClass:"dialog-body"},[t("div",{staticClass:"form"},[e._t("default")],2),t("div",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitExportForm}},[e._v(e._s(e.$t("h.exportBtn")))]),t("el-button",{attrs:{size:"small"},on:{click:e.resetExportForm}},[e._v(e._s(e.$t("h.cancelBtn")))])],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.step,expression:"step"}],staticClass:"result-body"},["loading"==e.step?t("div",{staticClass:"loading"},[t("div",{staticClass:"tips"},[t("span",[e._v(e._s(e.$t("h.title30"))),t("i",{staticClass:"el-icon-loading"})])]),t("el-progress",{attrs:{percentage:e.percentage,"show-text":!1,"stroke-width":10}})],1):"success"==e.step?t("div",{staticClass:"success"},[t("div",{staticClass:"text"},[t("span",[t("i",{staticClass:"el-icon-success"}),e._v(e._s(e.$t("h.exportSuccessful")))])])]):"error"==e.step?t("div",{staticClass:"error"},[t("div",{staticClass:"text"},[t("span",[t("i",{staticClass:"el-icon-error"}),e._v(e._s(e.$t("h.title32")))])]),t("div",[t("span",[e._v(e._s(e.$t("h.title33"))+e._s(e.errorContent))])])]):e._e()])])},i=[],a={props:{billsExportDialogVisible:{type:Boolean,default:!1},percentage:{type:Number,default:0},step:{type:String,default:""},errorContent:{type:String,default:""}},computed:{dialogVisible:{get(){return this.billsExportDialogVisible},set(e){this.$emit("update:billsExportDialogVisible",e)}}},methods:{dialogVisibleClose(){this.$emit("close")},resetExportForm(){this.dialogVisible=!1,this.$emit("resetExportForm")},submitExportForm(){this.$emit("submitExportForm")}}},r=a,o=s(1001),c=(0,o.Z)(r,l,i,!1,null,"639e7745",null),n=c.exports},52086:function(e,t,s){s.d(t,{Z:function(){return n}});var l=function(){var e=this,t=e._self._c;return t("el-select",{ref:"selectRef",staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"","filter-method":e.selectFilter,placeholder:e.placeholder,disabled:e.disabled,"value-key":e.defaultProps["value"],multiple:e.multiple,"collapse-tags":e.collapseTags},on:{clear:e.clearSelectValue,"remove-tag":e.removeSelectTag,focus:e.FocusSelect},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},[t("el-option",{key:"x",attrs:{hidden:"",value:"x",label:"x"}}),e._l(e.valueData,(function(s,l){return t("el-option",{key:l,attrs:{hidden:"",value:s[e.defaultProps["value"]],label:s[e.defaultProps["label"]]}})})),e.multiple?t("el-checkbox",{staticStyle:{margin:"0 0 0 26px"},attrs:{"text-color":"#409EFF"},on:{change:e.checkboxChange},model:{value:e.checkedValue,callback:function(t){e.checkedValue=t},expression:"checkedValue"}},[e._v(e._s(e.$t("h.title52")))]):e._e(),e.multiple?t("div",{staticClass:"line"}):e._e(),t("el-tree",{ref:"treeRef",attrs:{"highlight-current":"","node-key":e.defaultProps["value"],data:e.treeData,props:e.defaultProps,"show-checkbox":e.multiple,"check-strictly":e.checkStrictly,"expand-on-click-node":e.isLastNode,"filter-node-method":e.treeFilterNode},on:{check:e.clickCheckBox,"node-click":e.clickNode},scopedSlots:e._u([{key:"default",fn:function({node:s,data:l}){return t("span",{staticClass:"tree-text"},[e._v(" "+e._s(l.code+"-"+s.label)+" ")])}}])})],2)},i=[],a=(s(57658),{data(){return{selectValue:null,valueData:[],checkedValue:!1}},props:{placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]},defaultProps:{type:Object,default:()=>({value:"_id",label:"name",children:"children"})},multiple:{type:Boolean,default:!1},collapseTags:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},isLastNode:{type:Boolean,default:!1},initData:{type:[Array,Number,String]},value:{type:[Array,Number,String]}},watch:{value:{handler(e){this.multiple?(this.selectValue=e,this.valueData=[],this.$nextTick((()=>{e instanceof Array==0?this.$refs.treeRef.setCheckedKeys([]):this.$refs.treeRef.setCheckedKeys(e);let t=this.$refs.treeRef.getCheckedNodes();this.valueData=t}))):(this.selectValue=e,this.valueData=[],this.$nextTick((()=>{this.$refs.treeRef.setCurrentKey(e);let t=this.$refs.treeRef.getCurrentNode();t&&this.valueData.push(t)})))},immediate:!0,deep:!0}},methods:{clearSelectValue(){this.multiple?this.selectValue=[]:this.selectValue=null,this.valueData=[],this.multiple?this.$refs.treeRef.setCheckedKeys([]):this.$refs.treeRef.setCurrentKey(null),this.$emit("input",this.selectValue),this.$emit("selectTree",this.selectValue)},removeSelectTag(e){if(!this.multiple)return!1;if(this.checkStrictly)this.valueData.splice(this.valueData.findIndex((t=>t[this.defaultProps.value]==e)),1),this.$nextTick((()=>{this.$refs.treeRef.setCheckedKeys(this.selectValue)}));else{this.valueData.splice(this.valueData.findIndex((t=>t[this.defaultProps.value]==e)),1);let t=this.$refs.treeRef.getCheckedNodes(!0,!1);for(let s=0;s<t.length;s++)if(t[s][this.defaultProps.value]==e){t.splice(s,1);break}this.$nextTick((()=>{this.$refs.treeRef.setCheckedNodes(t)}))}this.$emit("input",this.selectValue),this.$emit("selectTree",this.selectValue)},FocusSelect(){this.$refs.treeRef.filter("")},clickCheckBox(e,t){if(this.checkStrictly)if(e.children&&0!=e.children.length){const s=e[this.defaultProps.value];if(-1!=this.selectValue.indexOf(s))this.selectValue.splice(this.selectValue.findIndex((e=>e==s)),1),this.valueData.splice(this.valueData.findIndex((e=>e[this.defaultProps.value]==s)),1),this.$refs.treeRef.setCheckedKeys(this.selectValue);else{let s=this.lookForAllId(e.children),l=this.lookForAll(e.children);this.valueData=this.dsNewSet([...t.checkedNodes,...l],!0),this.selectValue=this.dsNewSet([...t.checkedKeys,...s],!1),this.$refs.treeRef.setCheckedKeys(this.selectValue)}}else this.valueData=t.checkedNodes,this.selectValue=t.checkedKeys,this.$refs.treeRef.setCheckedKeys(this.selectValue);else 0==t.halfCheckedKeys.length?(this.valueData=t.checkedNodes,this.selectValue=t.checkedKeys):(this.valueData=[...t.checkedNodes,...t.halfCheckedNodes],this.selectValue=[...t.checkedKeys,...t.halfCheckedKeys]);this.$emit("input",this.selectValue),this.$emit("selectTree",this.selectValue)},clickNode(e,t,s){if(this.multiple)return!1;if(this.isLastNode){if(null!=e.children)return!1;this.selectValue=e[this.defaultProps.value],this.valueData=[e],this.$refs.treeRef.setCurrentKey(e[this.defaultProps.value])}else this.selectValue=e[this.defaultProps.value],this.valueData=[e],this.$refs.treeRef.setCurrentKey(e[this.defaultProps.value]);this.$emit("input",this.selectValue),this.$emit("selectTree",this.selectValue,e),this.$refs.selectRef.blur()},removeNode(e){this.$refs.treeRef.remove(e)},lookForAllId(e=[],t=[]){for(let s of e)t.push(s[this.defaultProps.value]),s.children&&s.children.length&&this.lookForAllId(s.children,t);return t},lookForAll(e=[],t=[]){for(let s of e)t.push(s),s.children&&s.children.length&&this.lookForAll(s.children,t);return t},dsNewSet(e,t){if(t){const t=new Map;return e.filter((e=>!t.has(e[this.defaultProps.value])&&t.set(e[this.defaultProps.value],1)))}for(var s=0;s<e.length;s++)for(var l=s+1;l<e.length;l++)e[s]==e[l]&&e.splice(l,1);return e},selectFilter(e){this.$refs.treeRef.filter(e)},treeFilterNode(e,t){return!e||-1!==t[this.defaultProps.label].indexOf(e)},checkboxChange(e){e?(this.valueData=this.lookForAll(this.treeData),this.selectValue=this.lookForAllId(this.treeData),this.$refs.treeRef.setCheckedKeys(this.lookForAllId(this.treeData))):(this.$refs.treeRef.setCheckedKeys([]),this.selectValue=null,this.valueData=[]),this.$emit("input",this.selectValue),this.$emit("selectTree",this.selectValue)}}}),r=a,o=s(1001),c=(0,o.Z)(r,l,i,!1,null,"1a3a05b9",null),n=c.exports},55886:function(e,t,s){s.d(t,{M:function(){return l}});s(57658);const l=(e,t)=>{const s=[];return e.forEach(((i,a)=>{if(i.subId==t){const t=l(e,i._id);t.length>0&&(i.children=t),s.push(i)}})),s}},36108:function(e,t,s){e.exports=s.p+"img/head-portrait.860b5e9d.png"}}]);