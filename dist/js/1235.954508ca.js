(self["webpackChunk_4010_assetweb"]=self["webpackChunk_4010_assetweb"]||[]).push([[1235],{31235:function(e,t,l){"use strict";l.d(t,{Z:function(){return y}});var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("h.title95"),visible:e.dialogVisible,"custom-class":"ds-dialog",fullscreen:""},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.dialogOpened,closed:e.dialogClosed,close:e.dialogClose}},[t("div",{staticClass:"custom-body"},[t("div",{staticClass:"custom-setp"},[t("el-steps",{attrs:{active:e.active,simple:"","finish-status":"success"}},[t("el-step",{attrs:{title:e.$t("h.drawLabelComponents1")}}),t("el-step",{attrs:{title:e.$t("h.drawLabelComponents2")}}),t("el-step",{attrs:{title:e.$t("h.drawLabelComponents3")}})],1)],1),t("div",{staticClass:"custom-content",style:e.cssVars},[t("div",{ref:"showLeftRef",staticClass:"show-left"}),0==e.active?t("div",{staticClass:"handle-right"},[t("el-form",{ref:"sizeFormRef",attrs:{"label-width":"150px",model:e.sizeForm,rules:e.sizeFormRules}},[t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents4"),prop:"width"}},[t("el-input",{model:{value:e.sizeForm.width,callback:function(t){e.$set(e.sizeForm,"width",e._n(t))},expression:"sizeForm.width"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v("mm")])])],1),t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents5"),prop:"height"}},[t("el-input",{model:{value:e.sizeForm.height,callback:function(t){e.$set(e.sizeForm,"height",e._n(t))},expression:"sizeForm.height"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v("mm")])])],1),t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents6"),prop:"margin"}},[t("el-input",{model:{value:e.sizeForm.margin,callback:function(t){e.$set(e.sizeForm,"margin",e._n(t))},expression:"sizeForm.margin"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v("mm")])]),t("div",{staticClass:"smallPrompt"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("h.drawLabelComponents7"),placement:"left"}},[t("el-button",{attrs:{icon:"el-icon-question"}})],1)],1)],1),t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents8"),prop:"rowNum"}},[t("el-input",{model:{value:e.sizeForm.rowNum,callback:function(t){e.$set(e.sizeForm,"rowNum",e._n(t))},expression:"sizeForm.rowNum"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.$t("h.drawLabelComponents13")))])])],1),t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents9"),prop:"colNum"}},[t("el-input",{model:{value:e.sizeForm.colNum,callback:function(t){e.$set(e.sizeForm,"colNum",e._n(t))},expression:"sizeForm.colNum"}},[t("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.$t("h.drawLabelComponents14")))])])],1),t("el-form-item",{staticClass:"font el-form-item-marginsix",attrs:{label:e.$t("h.drawLabelComponents10")}},[t("span",{staticStyle:{color:"#ccc"}},[e._v(e._s(e.$t("h.drawLabelComponents15")))])]),t("el-form-item",{staticClass:"el-form-item-marginsix",attrs:{label:e.$t("h.drawLabelComponents11")}},[t("span",{staticStyle:{color:"#ccc"}},[e._v(e._s(e.tableWidth)+"mm")])]),t("el-form-item",{staticClass:"el-form-item-marginforty",attrs:{label:e.$t("h.drawLabelComponents12")}},[t("span",{staticStyle:{color:"#ccc"}},[e._v(e._s(e.tableHeight)+"mm")])]),t("el-form-item",{staticClass:"colorItem btns",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"fortyPercentButton",attrs:{size:"small"},on:{click:e.resetSizeForm}},[e._v(e._s(e.$t("h.resetBtn")))]),t("el-button",{staticClass:"colorItem-button fortyPercentButton",attrs:{type:"primary",size:"small",disabled:e.saveBtnDisabled},on:{click:e.createTable}},[e._v(e._s(e.$t("h.drawLabelComponents16")))])],1),e.stepVal?e._e():t("el-form-item",{staticClass:"colorItem",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"colorItem-button ninetyPercentButton",attrs:{type:"success",size:"small",disabled:e.nextSetp},on:{click:e.saveLabelBody}},[e._v(e._s(e.$t("h.drawLabelComponents17")))])],1),e.stepVal?t("el-form-item",{staticClass:"colorItem",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"colorItem-button",attrs:{type:"success",size:"small",disabled:e.nextSetp},on:{click:e.modifySaveLabelBody}},[e._v(e._s(e.$t("h.drawLabelComponents18")))])],1):e._e()],1),t("div",{staticClass:"tips"},[t("p",[e._v(e._s(e.$t("h.drawLabelComponents19")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents20")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents21")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents22")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents23")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents24")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents25")))])])],1):e._e(),1==e.active?t("div",{staticClass:"handle-right"},[t("el-form",{ref:"cellFormRef",attrs:{"label-width":"100px",model:e.cellForm,rules:e.cellFormRules}},[t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents26"),prop:"type"}},[t("el-select",{attrs:{placeholder:e.$t("h.tips4")+e.$t("h.drawLabelComponents26"),disabled:null==e.selectCell},model:{value:e.cellForm.type,callback:function(t){e.$set(e.cellForm,"type",t)},expression:"cellForm.type"}},e._l(e.typeList,(function(e,l){return t("el-option",{key:l,attrs:{label:e.label,value:e.value}})})),1)],1),e.textContent?t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents27"),prop:"data"}},[t("el-input",{attrs:{disabled:null==e.selectCell},model:{value:e.cellForm.data,callback:function(t){e.$set(e.cellForm,"data",t)},expression:"cellForm.data"}})],1):e._e(),e.textExist?t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents28"),prop:"name"}},[t("el-select",{attrs:{placeholder:e.$t("h.tips4")+e.$t("h.drawLabelComponents28"),disabled:null==e.selectCell},model:{value:e.cellForm.name,callback:function(t){e.$set(e.cellForm,"name",t)},expression:"cellForm.name"}},e._l(e.dataList,(function(e,l){return t("el-option",{key:l,attrs:{label:e.nameShow,value:e.dbDataName}})})),1)],1):e._e(),t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents29"),prop:"align"}},[t("el-select",{attrs:{placeholder:e.$t("h.tips4")+e.$t("h.drawLabelComponents30"),disabled:null==e.selectCell},model:{value:e.cellForm.align,callback:function(t){e.$set(e.cellForm,"align",t)},expression:"cellForm.align"}},e._l(e.alignList,(function(e,l){return t("el-option",{key:l,attrs:{label:e.label,value:e.value}})})),1)],1),e.textContent?t("el-form-item",{attrs:{label:e.wordSize,prop:"fontSize"}},[t("el-input-number",{attrs:{min:12,disabled:null==e.selectCell,"step-strictly":""},model:{value:e.cellForm.fontSize,callback:function(t){e.$set(e.cellForm,"fontSize",t)},expression:"cellForm.fontSize"}})],1):e._e(),"logo"==e.cellForm.type?t("el-form-item",{attrs:{label:e.logo,prop:"logo"}},[t("add-picture",{attrs:{value:e.cellForm.logo,imgHeight:e.cellForm.imgHeight,imgWidth:e.cellForm.imgWidth,clickRecord:e.clickRecord},on:{"update:value":function(t){return e.$set(e.cellForm,"logo",t)},"update:imgHeight":function(t){return e.$set(e.cellForm,"imgHeight",t)},"update:img-height":function(t){return e.$set(e.cellForm,"imgHeight",t)},"update:imgWidth":function(t){return e.$set(e.cellForm,"imgWidth",t)},"update:img-width":function(t){return e.$set(e.cellForm,"imgWidth",t)},"update:clickRecord":function(t){e.clickRecord=t},"update:click-record":function(t){e.clickRecord=t}}})],1):e._e(),"logo"==e.cellForm.type?t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents31"),prop:"imgProportion"}},[t("el-input-number",{attrs:{min:0,max:20,disabled:null==e.selectCell,"step-strictly":""},model:{value:e.cellForm.imgProportion,callback:function(t){e.$set(e.cellForm,"imgProportion",t)},expression:"cellForm.imgProportion"}})],1):e._e(),"QRcode"==e.cellForm.type?t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents32"),prop:"codeProportion"}},[t("el-input-number",{attrs:{min:0,max:10,disabled:null==e.selectCell,"step-strictly":""},model:{value:e.cellForm.codeProportion,callback:function(t){e.$set(e.cellForm,"codeProportion",t)},expression:"cellForm.codeProportion"}})],1):e._e(),t("el-form-item",{staticClass:"colorItem el-form-item-marginTopThirty",staticStyle:{"text-align":"center"}},[e.stepVal?e._e():t("el-button",{staticClass:"fortyPercentButton",attrs:{size:"small"},on:{click:e.goBack}},[e._v(e._s(e.$t("h.drawLabelComponents33")))]),t("el-button",{staticClass:"colorItem-button fortyPercentButton",attrs:{size:"small",type:"primary",disabled:null==e.selectCell},on:{click:e.saveTableCell}},[e._v(e._s(e.$t("h.confirmBtn")))])],1),t("el-form-item",{staticClass:"colorItem",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"colorItem-button ninetyPercentButton",attrs:{type:"success",size:"small",disabled:e.nextSetp},on:{click:e.svaeLabelContent}},[e._v(e._s(e.$t("h.drawLabelComponents17")))])],1)],1),t("div",{staticClass:"tips"},[t("p",[e._v(e._s(e.$t("h.drawLabelComponents19")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents34")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents35")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents23")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents36")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents37")))]),t("p",[e._v(" "+e._s(e.$t("h.drawLabelComponents38"))+" ")]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents39")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents40")))])])],1):e._e(),2==e.active?t("div",{staticClass:"handle-right"},[t("el-form",{ref:"borderFormRef",attrs:{"label-width":"100px",model:e.borderForm}},[t("el-form-item",{attrs:{label:e.$t("h.drawLabelComponents41"),prop:"name",rules:[{required:!0,message:e.$t("h.drawLabelComponents42"),trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:e.$t("h.tips3")+e.$t("h.drawLabelComponents41")},model:{value:e.borderForm.name,callback:function(t){e.$set(e.borderForm,"name",t)},expression:"borderForm.name"}})],1),t("el-form-item",{attrs:{label:e.border}},[t("el-checkbox",{on:{change:e.checkboxChange},model:{value:e.borderForm.border,callback:function(t){e.$set(e.borderForm,"border",t)},expression:"borderForm.border"}},[e._v(e._s(e.$t("h.drawLabelComponents43")))])],1),e.stepVal?e._e():t("el-form-item",{staticClass:"colorItem el-form-item-marginTopThirty"},[t("el-button",{staticClass:"fortyPercentButton",attrs:{size:"small"},on:{click:e.goBack}},[e._v(e._s(e.$t("h.drawLabelComponents33")))]),t("el-button",{staticClass:"fortyPercentButton",class:e.borderFormComplete?"colorItem-button":"colorItem-button1",attrs:{size:"small",type:"primary",disabled:!e.borderFormComplete},on:{click:e.submitLabelJson}},[e._v(e._s(e.$t("h.drawLabelComponents44")))])],1),e.stepVal?t("el-form-item",{staticClass:"colorItem el-form-item-marginTopThirty"},[t("el-button",{staticClass:"fortyPercentButton",attrs:{size:"small"},on:{click:e.goBack}},[e._v(e._s(e.$t("h.drawLabelComponents33")))]),t("el-button",{staticClass:"fortyPercentButton",class:e.borderFormComplete?"colorItem-button":"colorItem-button1",attrs:{size:"small",type:"primary",disabled:!e.borderFormComplete},on:{click:e.modifySubmitLabelJson}},[e._v(e._s(e.$t("h.drawLabelComponents44")))])],1):e._e()],1),t("div",{staticClass:"tips"},[t("p",[e._v(e._s(e.$t("h.drawLabelComponents19")))]),t("p",[e._v(e._s(e.$t("h.drawLabelComponents45")))]),t("p",[e._v(" "+e._s(e.$t("h.drawLabelComponents46"))+" ")])])],1):e._e()])]),t("div",{ref:"menuRef",staticClass:"menu",attrs:{id:"menu"}},[t("div",{staticClass:"menu__item",on:{click:function(t){return t.stopPropagation(),e.colSpanClick(!1)}}},[t("i",{staticClass:"icon el-icon-right"}),t("span",[e._v(e._s(e.$t("h.drawLabelComponents47")))]),t("el-input-number",{attrs:{size:"mini",min:0,"step-strictly":""},on:{focus:e.elInputNumberChangeCol},model:{value:e.colSpanCellNum,callback:function(t){e.colSpanCellNum=t},expression:"colSpanCellNum"}}),t("span",[e._v(e._s(e.$t("h.drawLabelComponents49")))])],1),t("div",{staticClass:"menu__item",on:{click:function(t){return t.stopPropagation(),e.rowSpanClick(!1)}}},[t("i",{staticClass:"icon el-icon-bottom"}),t("span",[e._v(e._s(e.$t("h.drawLabelComponents48")))]),t("el-input-number",{attrs:{size:"mini",min:0,"step-strictly":""},on:{focus:e.elInputNumberChangeRow},model:{value:e.rowSpanCellNum,callback:function(t){e.rowSpanCellNum=t},expression:"rowSpanCellNum"}}),t("span",[e._v(e._s(e.$t("h.drawLabelComponents49")))])],1)])])},r=[],o=(l(57658),l(83874)),s=l.n(o),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.fileValue,expression:"!fileValue"}],staticClass:"upload-btn"},[t("input",{ref:"uploadInputRef",attrs:{type:"file",id:"upload-btn-input",accept:"image/*"},on:{change:e.handlePhotoChange}}),t("i",{staticClass:"el-icon-plus"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.fileValue,expression:"fileValue"}],staticClass:"upload-img"},[t("button",{staticClass:"close-btn",on:{click:function(t){return e.deletePhotpFile(t)}}},[t("i",{staticClass:"el-icon-close"})]),t("img",{attrs:{src:e.fileValue,alt:"",id:"img"}})])])},a=[],h=l(79992),c={data(){return{}},computed:{fileValue:{get(){return this.value},set(e){this.$emit("update:value",e)}},imgH:{get(){return this.imgHeight},set(e){this.$emit("update:imgHeight",e)}},imgW:{get(){return this.imgWidth},set(e){this.$emit("update:imgWidth",e)}},clickRecordValue:{get(){return this.clickRecord},set(e){this.$emit("update:clickRecord",e)}}},props:{value:{type:String,default:""},imgHeight:{type:Number,default:null},imgWidth:{type:Number,default:null}},methods:{handlePhotoChange(e){let t=e.target.files[0],l=new FormData;return l.append("file1",t),0!=t.type.indexOf("image")?this.$message.error(this.$t("h.tips21")):t.size/1024>500?this.$message.error(`${this.$t("h.tips37")}500kb`):void(0,h.sT)(t).then((e=>{this.fileValue=e,setTimeout((()=>{document.querySelector("#img").offsetHeight&&(this.imgH=document.querySelector("#img").offsetHeight,this.imgW=document.querySelector("#img").offsetWidth)}),200)})).catch((()=>{this.deletePhotpFile(),this.$message.error(this.$t("h.tipstips2021"))}))},deletePhotpFile(e){e.preventDefault(),this.fileValue="",this.$refs.uploadInputRef.value="",this.clickRecordValue=!this.clickRecordValue}}},m=c,d=l(1001),p=(0,d.Z)(m,n,a,!1,null,"45fff5fa",null),u=p.exports,b=l(20629),g=l(76080),f={name:"DrawPrintedPictures",data(){var e=(e,t,l)=>{t>100?l(new Error(this.$t("h.drawLabelComponents50")+"100")):l()},t=(e,t,l)=>{t>60?l(new Error(this.$t("h.drawLabelComponents51")+"60")):l()},l=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents52")+"18"+this.$t("h.drawLabelComponents13"))):l()},i=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents53")+"18"+this.$t("h.drawLabelComponents13"))):l()};return{handleRightStyle:"40px 50px 0 20px",customContentStyle:"20px",elFormItemContentStyle:"150px",elFormItemStyle:"18px",lang:"ZH",wordSize:this.$t("h.drawLabelComponents54"),logo:"LOGO",border:this.$t("h.drawLabelComponents43"),active:0,watchActive:0,nextSetp:!0,colSpanCellNum:0,rowSpanCellNum:0,submitLabel:{name:"",deviceRelate:[{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-218"},{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-735"},{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-721"}]},selectCell:null,sizeForm:{width:"",height:"",rowNum:"",colNum:"",dpi:300,margin:""},sizeFormRules:{width:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents4"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents55"),trigger:["change","blur"]},{validator:e,trigger:["change","blur"]}],height:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents5"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents56"),trigger:["change","blur"]},{validator:t,trigger:["change","blur"]}],rowNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents8"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents57")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents57"),trigger:"change"},{validator:l,trigger:"change"}],colNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents9"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents58")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents58"),trigger:"change"},{validator:i,trigger:"change"}],margin:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents6"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents59"),trigger:["change","blur"]}]},cellForm:{type:"",data:"",name:"",fontSize:12,align:"center",logo:"",codeProportion:9,imgProportion:10,imgHeight:0,imgWidth:0},cellFormRules:{type:[{required:!0,message:this.$t("h.tips4")+this.$t("h.drawLabelComponents26"),trigger:"change"}],data:[{required:!0,message:this.$t("h.tips3")+this.$t("h.title91"),trigger:"blur"}],name:[{required:!0,message:this.$t("h.tips4")+this.$t("h.drawLabelComponents28"),trigger:"change"}],align:[{required:!0,message:this.$t("h.tips4")+this.$t("h.drawLabelComponents30"),trigger:"change"}],fontSize:[{required:!0,message:this.$t("h.tips4")+this.$t("h.drawLabelComponents30"),trigger:"blur"}]},typeList:[{label:this.$t("h.drawLabelComponents60"),value:"title"},{label:this.$t("h.drawLabelComponents61"),value:"data"},{label:"logo",value:"logo"},{label:this.$t("h.drawLabelComponents62"),value:"QRcode"}],alignList:[{label:this.$t("h.drawLabelComponents63"),value:"left"},{label:this.$t("h.drawLabelComponents64"),value:"center"},{label:this.$t("h.drawLabelComponents65"),value:"right"}],borderForm:{name:"",border:!0},borderFormRules:{name:{required:!0,message:this.$t("h.tips4")+this.$t("h.drawLabelComponents26"),trigger:["change","blur"]}},observer:{},currentCellRow:0,currentCellCol:0,textExist:!1,textContent:!1,firstTable:"",secondTable:"",clickRecord:!1,changeBeforeCol:0,changeBeforeRow:0,secondDisabled:!1,downwardDifferentiate:!1,borderFormComplete:!1}},props:{customDialogVisible:{type:Boolean,default:!1},step:{type:Boolean,default:!1},tableData:{type:Object,default:()=>{}},templateType:{type:Number,default:0},dataList:{type:Array,default:()=>[]}},components:{AddPicture:u},computed:{...(0,b.rn)(["userInfo"]),dialogVisible:{get(){return this.customDialogVisible},set(e){this.$emit("update:customDialogVisible",e)}},stepVal:{get(){return this.step},set(e){this.$emit("update:step",e)}},tableWidth(){return this.sizeForm.width&&this.sizeForm.margin?this.sizeForm.width-2*this.sizeForm.margin:this.$t("h.drawLabelComponents66")},tableHeight(){return this.sizeForm.height&&this.sizeForm.margin?this.sizeForm.height-2*this.sizeForm.margin:this.$t("h.drawLabelComponents67")},saveBtnDisabled(){return"number"!=typeof this.tableHeight||NaN==this.tableHeight||this.tableHeight<1||("number"!=typeof this.tableWidth||NaN==this.tableWidth||this.tableWidth<1)},cssVars(){return{"--handleRightStyle":this.handleRightStyle,"--customContentStyle":this.customContentStyle,"--elFormItemContentStyle":this.elFormItemContentStyle,"--elFormItemStyle":this.elFormItemStyle}}},watch:{step:function(e,t){1==e&&this.dblCreateTable()},clickRecord:function(e,t){t!=e&&this.saveTableCell()},"cellForm.type":function(e,t){this.textExist="logo"!=e&&"title"!=e,"QRcode"==e||"logo"==e?(this.textContent=!1,this.$refs["cellFormRef"].clearValidate(["name"])):this.textContent=!0,"logo"==e&&(this.logo="L  O  G  O"),e||(this.textExist=!1,this.textContent=!1),e&&(this.$refs["cellFormRef"].clearValidate(["type"]),this.$refs["cellFormRef"].clearValidate(["name"])),e!=t&&1==this.watchActive&&(this.$refs["cellFormRef"].clearValidate(["data"]),this.$refs["cellFormRef"].clearValidate(["name"]))},"cellForm.logo":function(e){""==e&&this.saveTableCell()},dialogVisible:function(e){e&&this.$nextTick((()=>{document.querySelector(".font label").innerText=this.$t("h.drawLabelComponents10")}))},active:function(e){0==e&&this.$nextTick((()=>{document.querySelector(".font label").innerText=this.$t("h.drawLabelComponents10")})),2==e&&(this.border=this.$t("h.drawLabelComponents43"))},textContent:function(e){e&&(this.wordSize=this.$t("h.drawLabelComponents54"))},"borderForm.name":function(e){""==e.trim()?this.borderFormComplete=!1:this.borderFormComplete=!0}},methods:{goBack(){if(0!=this.active){"logo"!=this.cellForm.type&&1==this.active&&this.$refs["cellFormRef"].clearValidate(["type","data"]),2==this.active&&(this.borderForm.name=""),this.active-=1,this.watchActive=this.active;const e=document.getElementById("menu");if(e.classList.remove("active"),this.$refs["showLeftRef"].innerHTML="",this.cellForm.logo="",this.secondDisabled=!1,this.selectCell=null,0==this.active){this.$refs["showLeftRef"].innerHTML=this.firstTable,this.$nextTick((()=>{let e=(e,t,l)=>{t>100?l(new Error(this.$t("h.drawLabelComponents50")+"100")):l()},t=(e,t,l)=>{t>60?l(new Error(this.$t("h.drawLabelComponents51")+"60")):l()},l=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents52")+"18"+this.$t("h.drawLabelComponents13"))):l()},i=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents53")+"18"+this.$t("h.drawLabelComponents13"))):l()};this.sizeFormRules={width:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents4"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents55"),trigger:["change","blur"]},{validator:e,trigger:["change","blur"]}],height:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents5"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents56"),trigger:["change","blur"]},{validator:t,trigger:["change","blur"]}],rowNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents8"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents57")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents57"),trigger:"change"},{validator:l,trigger:"change"}],colNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents9"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents58")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents58"),trigger:"change"},{validator:i,trigger:"change"}],margin:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents6"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents59"),trigger:["change","blur"]}]}}));for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff";this.nextSetp=!1,document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"!=e.target.localName)return;for(let i=0;i<document.querySelectorAll("td").length;i++)document.querySelectorAll("td")[i].style.background="#fff";e.target.style.background="#ccc",this.colSpanCellNum=null===e.target.getAttribute("colspan")?0:1*e.target.getAttribute("colspan")-1,this.rowSpanCellNum=null===e.target.getAttribute("rowspan")?0:1*e.target.getAttribute("rowspan")-1,this.currentCellRow=this.rowSpanCellNum,this.currentCellCol=this.colSpanCellNum,this.selectCell=e.target;const t=document.getElementById("menu");t.style.left=e.clientX+"px",t.style.top=e.clientY-54+"px",t.classList.add("active");let l=document.querySelectorAll("#menu input");l[0].addEventListener("change",(e=>{let t=Number(e.target.value);if(t=t-this.changeBeforeCol>=0?t-this.changeBeforeCol:this.changeBeforeCol-t,0==t)return this.colSpanCellNum=this.currentCellCol,this.$message.error(this.$t("h.drawLabelComponents68"));for(let l=0;l<t;l++)this.colSpanClick(t)})),l[1].addEventListener("change",(e=>{this.downwardDifferentiate=!0;let t=Number(e.target.value);if(t=t-this.changeBeforeRow>=0?t-this.changeBeforeRow:this.changeBeforeRow-t,0==t)return this.rowSpanCellNum=this.currentCellRow,this.$message.error(this.$t("h.drawLabelComponents68"));for(let l=0;l<t;l++)this.rowSpanClick(t);this.downwardDifferentiate=!1}))})),document.querySelector(".show-left").addEventListener("click",(e=>{if("td"!=e.target.localName){const e=document.getElementById("menu");e.classList.remove("active")}})),this.setUpResize()}else if(1==this.active){this.$refs["showLeftRef"].innerHTML=this.secondTable;for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff";document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"==e.target.localName||"img"==e.target.localName){for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff";let t,l;this.cellForm.logo="","td"==e.target.localName?(e.target.style.background="#ccc",t=e.target.dataset.position.split(",")[0],l=e.target.dataset.position.split(",")[1]):"img"==e.target.localName&&(e.target.parentNode.style.background="#ccc",t=e.target.parentNode.dataset.position.split(",")[0],l=e.target.parentNode.dataset.position.split(",")[1]),this.submitLabel.tableCell.forEach((e=>{e.position[0]==t&&e.position[1]==l&&(this.cellForm.type=e.type,this.cellForm.data=e.data,this.cellForm.name=e.name,this.cellForm.fontSize=e.fontSize,this.cellForm.align=e.align,this.cellForm.codeProportion=e.codeProportion?e.codeProportion:10,this.cellForm.imgProportion=e.imgProportion?e.imgProportion:10,this.cellForm.imgHeight=e.imgHeight?e.imgHeight:0,this.cellForm.imgWidth=e.imgWidth?e.imgWidth:0,"logo"==e.type&&(this.cellForm.logo=e.logo))})),"td"==e.target.localName?this.selectCell=e.target:"img"==e.target.localName&&(this.selectCell=e.target.parentNode)}}))}}},resetSizeForm(){this.nextSetp=!0,this.colSpanCellNum=0,this.rowSpanCellNum=0,this.sizeForm.width="",this.sizeForm.height="",this.sizeForm.rowNum="",this.sizeForm.colNum="",this.sizeForm.margin="",this.selectCell=null;const e=document.getElementById("menu");e.classList.remove("active"),this.$refs["showLeftRef"].innerHTML="",this.$nextTick((()=>{this.$refs["sizeFormRef"].clearValidate(["width","height","rowNum","colNum","margin"])}))},createTable(){this.$refs["sizeFormRef"].validate((e=>{if(!e)return!1;const t=document.getElementById("menu");t.classList.remove("active"),this.$refs["showLeftRef"].innerHTML="";let l=document.createElement("div");l.className="label2",l.style.width=this.mmConverterPx(this.sizeForm.width,this.sizeForm.dpi),l.style.height=this.mmConverterPx(this.sizeForm.height,this.sizeForm.dpi),l.style.padding=this.mmConverterPx(this.sizeForm.margin,this.sizeForm.dpi),l.style.background="#fff",l.style.boxSizing="border-box",l.innerHTML=this.getTableHTML(),this.$refs["showLeftRef"].appendChild(l);let i=document.querySelector(".custom-body"),r=[];i&&(r=i.querySelectorAll("tr"));for(let o=0;o<r.length;o++)for(let e=0;e<r[o].children.length;e++){let t=r[o].children[e];this.observer["e"+o+e]=new MutationObserver((e=>{let l=Number(this.mmConverterPx(this.tableHeight,this.sizeForm.dpi).split("p")[0]),i=document.querySelector("table").offsetHeight;while(i>Math.round(l))t.style.height=t.offsetHeight-1+"px",i=document.querySelector("table").offsetHeight})),this.observer["e"+o+e].observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})}this.nextSetp=!1,document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"!=e.target.localName)return;for(let i=0;i<document.querySelectorAll("td").length;i++)document.querySelectorAll("td")[i].style.background="#fff";e.target.style.background="#ccc",this.colSpanCellNum=null===e.target.getAttribute("colspan")?0:1*e.target.getAttribute("colspan")-1,this.rowSpanCellNum=null===e.target.getAttribute("rowspan")?0:1*e.target.getAttribute("rowspan")-1,this.currentCellRow=this.rowSpanCellNum,this.currentCellCol=this.colSpanCellNum,this.selectCell=e.target;const t=document.getElementById("menu");t.style.left=e.clientX+"px",t.style.top=e.clientY-54+"px",t.classList.add("active");let l=document.querySelectorAll("#menu input");l[0].addEventListener("change",(e=>{let t=Number(e.target.value);if(t=t-this.changeBeforeCol>=0?t-this.changeBeforeCol:this.changeBeforeCol-t,0==t)return this.colSpanCellNum=this.currentCellCol,this.$message.error(this.$t("h.drawLabelComponents68"));for(let l=0;l<t;l++)this.colSpanClick(!0)})),l[1].addEventListener("change",(e=>{this.downwardDifferentiate=!0;let t=Number(e.target.value);if(t=t-this.changeBeforeRow>=0?t-this.changeBeforeRow:this.changeBeforeRow-t,0==t)return this.rowSpanCellNum=this.currentCellRow,this.$message.error(this.$t("h.drawLabelComponents68"));for(let l=0;l<t;l++)this.rowSpanClick(!0);this.downwardDifferentiate=!1}))})),document.querySelector(".show-left").addEventListener("click",(e=>{if("td"!=e.target.localName){const e=document.getElementById("menu");e.classList.remove("active")}}))}))},dblCreateTable(){this.borderForm.name=this.tableData.name,this.borderForm.border=this.tableData.border,this.$nextTick((()=>{this.$refs["showLeftRef"].innerHTML="";let e=document.createElement("div");e.className="label2",e.style.background="#fff",e.style.boxSizing="border-box",e.style.display="flex",e.style.flexDirection="row",e.style.justifyContent="center",e.style.alignItems="center";let t=this.tableData;console.log("tableHtmlArr>>>",t);let l=[];this.sizeForm.width=t.width,this.sizeForm.height=t.height,this.sizeForm.rowNum=t.rowNum,this.sizeForm.colNum=t.colNum,this.sizeForm.dpi=t.dpi,this.sizeForm.margin=t.margin,e.style.width=this.mmConverterPx(t.width,t.dpi),e.style.height=this.mmConverterPx(t.height,t.dpi),e.style.padding=this.mmConverterPx(t.margin,t.dpi),l=t.tableCell,e.innerHTML=t.html,this.$refs["showLeftRef"].appendChild(e),l.forEach(((e,l)=>{if("logo"==e.type)document.querySelectorAll("td")[l].children[0].setAttribute("src",e.logo);else if("QRcode"==e.type){let i=Number(this.mmConverterPx(e.width,t.dpi).split("p")[0]),r=Number(this.mmConverterPx(e.height,t.dpi).split("p")[0]),o=i-r>0?(r-10)/10*e.codeProportion:(i-10)/10*e.codeProportion,n=document.createElement("div");new(s())(n,{text:"GZ88888888",width:o,height:o,colorLight:"#ffffff",correctLevel:s().CorrectLevel.H}),n.lastChild.onload=()=>{document.querySelectorAll("td")[l].children[0].setAttribute("src",n.lastChild.getAttribute("src"))}}})),this.nextSetp=!1,document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"!=e.target.localName)return;for(let l=0;l<document.querySelectorAll("td").length;l++)document.querySelectorAll("td")[l].style.background="#fff";e.target.style.background="#ccc",this.colSpanCellNum=null===e.target.getAttribute("colspan")?0:1*e.target.getAttribute("colspan")-1,this.rowSpanCellNum=null===e.target.getAttribute("rowspan")?0:1*e.target.getAttribute("rowspan")-1,this.currentCellRow=this.rowSpanCellNum,this.currentCellCol=this.colSpanCellNum,this.selectCell=e.target;const t=document.getElementById("menu");t.style.left=e.clientX+"px",t.style.top=e.clientY-54+"px",t.classList.add("active")})),this.modifySaveLabelBody()}))},leftIncrease(){if(null==this.selectCell)return;let e=this.selectCell.parentNode.parentNode.children,t=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o].children.length;l++)e[o].children[l]==this.selectCell&&(t=l);let l=Number(window.getComputedStyle(this.selectCell).width.split("p")[0]),i=Number(this.selectCell.getAttribute("colspan")),r=l/i;this.sizeForm.width=this.pxConverterMM(Number(window.getComputedStyle(document.querySelector(".label2")).width.split("p")[0]),this.sizeForm.dpi);for(let o=0;o<e.length;o++){let l=document.createElement("td");l.style.width=`${r}px`,l.style.border="1px solid #000",l.style.boxSizing="border-box",l.style.overflow="hidden",l.style.whiteSpace="nowrap",l.style.textOverflow="ellipsis",e[o].children.length-1<t?e[o].appendChild(l):e[o].children[t].insertAdjacentElement("beforebegin",l)}this.sizeForm.colNum+=1,this.setUpResize()},rightIncrease(){if(null==this.selectCell)return;let e=this.selectCell.parentNode.parentNode.children,t=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o].children.length;l++)e[o].children[l]==this.selectCell&&(t=l);let l=Number(window.getComputedStyle(this.selectCell).width.split("p")[0]),i=Number(this.selectCell.getAttribute("colspan")),r=l/i;this.sizeForm.width=this.pxConverterMM(Number(window.getComputedStyle(document.querySelector(".label2")).width.split("p")[0]),this.sizeForm.dpi);for(let o=0;o<e.length;o++){let l=document.createElement("td");l.style.width=`${r}px`,l.style.border="1px solid #000",l.style.boxSizing="border-box",l.style.overflow="hidden",l.style.whiteSpace="nowrap",l.style.textOverflow="ellipsis",e[o].children.length-1<t?e[o].appendChild(l):e[o].children[t].insertAdjacentElement("afterend",l)}this.sizeForm.colNum+=1,this.setUpResize()},getTableHTML(){let e=this.mmConverterPx(this.tableWidth,this.sizeForm.dpi),t=this.mmConverterPx(this.tableHeight,this.sizeForm.dpi),l=`width:${e};\n                        height:${t};\n                        border:2px solid #000;\n                        border-collapse:collapse;\n                        box-sizing:border-box\n                        `,i=`<table style="${l}">`;for(let r=0;r<this.sizeForm.rowNum;r++){i+="<tr>";for(let e=0;e<this.sizeForm.colNum;e++){let t="border:2px solid #000;\n                         box-sizing:border-box;\n                         overflow:hidden;\n                         white-space:nowrap;\n                         text-overflow:ellipsis;\n                         ";e<this.sizeForm.colNum-1&&r<this.sizeForm.rowNum-1&&(t+="resize: both;"),i+=`<td style="${t}" data-position="${r},${e}"></td>`}i+="</tr>"}return i+="</table>",i},colSpanClick(e){let t=0,l=0;for(let r=0;r<this.selectCell.parentNode.children.length;r++)this.selectCell.parentNode.children[r]===this.selectCell&&(t=r);for(let r=0;r<this.selectCell.parentNode.parentNode.children.length;r++)this.selectCell.parentNode.parentNode.children[r]===this.selectCell.parentNode&&(l=r);if(t===this.selectCell.parentNode.children.length-1&&this.colSpanCellNum>this.currentCellCol)return e||this.$message.error(this.$t("h.drawLabelComponents69")),this.colSpanCellNum-=1,void this.selectCell.setAttribute("colSpan",this.colSpanCellNum+1);this.selectCell.setAttribute("colSpan",this.colSpanCellNum+1);let i=null===this.selectCell.getAttribute("rowspan")?1:Number(this.selectCell.getAttribute("rowspan"));if(this.colSpanCellNum>this.currentCellCol)for(let r=l+i;r>l;r--){let e=this.selectCell.parentNode.parentNode.children[r-1].children.length-1,t=null===this.selectCell.parentNode.parentNode.children[r-1].children[e].getAttribute("rowspan")?1:Number(this.selectCell.parentNode.parentNode.children[r-1].children[e].getAttribute("rowspan")),l=null===this.selectCell.parentNode.parentNode.children[r-1].children[e].getAttribute("colspan")?1:Number(this.selectCell.parentNode.parentNode.children[r-1].children[e].getAttribute("colspan"));this.selectCell.parentNode.parentNode.children[r-1].removeChild(this.selectCell.parentNode.parentNode.children[r-1].children[e]),this.detectionCell(t,l,r)}if(this.colSpanCellNum<this.currentCellCol)for(let r=l+i;r>l;r--){let e=document.createElement("td");this.stepVal?e.style.border="1px solid #000":e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[r-1].appendChild(e)}this.colSpanCellNum>this.currentCellCol?this.currentCellCol+=1:this.colSpanCellNum<this.currentCellCol&&(this.currentCellCol-=1),this.setUpResize()},rowSpanClick(e){let t=0,l=0;for(let s=0;s<this.selectCell.parentNode.children.length;s++)this.selectCell.parentNode.children[s]===this.selectCell&&(t=s);for(let s=0;s<this.selectCell.parentNode.parentNode.children.length;s++)this.selectCell.parentNode.parentNode.children[s]===this.selectCell.parentNode&&(l=s);let i=null===this.selectCell.getAttribute("rowspan")?1:Number(this.selectCell.getAttribute("rowspan"));if(this.rowSpanCellNum>this.currentCellRow&&l+i>=this.sizeForm.rowNum)return e||this.$message.error(this.$t("h.drawLabelComponents70")),void(this.rowSpanCellNum=this.rowSpanCellNum-1);this.downwardDifferentiate&&this.rowSpanCellNum!=this.currentCellRow?this.currentCellRow<this.rowSpanCellNum?this.selectCell.setAttribute("rowSpan",this.currentCellRow+2):this.currentCellRow>this.rowSpanCellNum&&this.selectCell.setAttribute("rowSpan",this.currentCellRow):this.rowSpanCellNum!=this.currentCellRow&&this.selectCell.setAttribute("rowSpan",this.rowSpanCellNum+1);let r=null===this.selectCell.getAttribute("colspan")?1:Number(this.selectCell.getAttribute("colspan")),o=null===this.selectCell.getAttribute("rowspan")?1:Number(this.selectCell.getAttribute("rowspan"));if(this.rowSpanCellNum>this.currentCellRow)for(let s=t+r;s>t;s--){let e=l+o-1,t=this.selectCell.parentNode.parentNode.children[e].children.length-1,i=null===this.selectCell.parentNode.parentNode.children[e].children[t].getAttribute("rowspan")?1:Number(this.selectCell.parentNode.parentNode.children[e].children[t].getAttribute("rowspan")),r=null===this.selectCell.parentNode.parentNode.children[e].children[t].getAttribute("colspan")?1:Number(this.selectCell.parentNode.parentNode.children[e].children[t].getAttribute("colspan"));this.detectionColCell(i,r,e,t,l,o)}if(this.currentCellRow>this.rowSpanCellNum){let e=l+o;for(let t=0;t<r;t++){let t=document.createElement("td");this.stepVal?t.style.border="1px solid #000":t.style.border="2px solid #000",t.style.boxSizing="border-box",t.style.overflow="hidden",t.style.whiteSpace="nowrap",t.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[e].appendChild(t)}}this.currentCellRow<this.rowSpanCellNum?this.currentCellRow+=1:this.currentCellRow>this.rowSpanCellNum&&(this.currentCellRow-=1),this.setUpResize()},saveLabelBody(){this.$refs["sizeFormRef"].validate((e=>{if(!e)return!1;let t=this.$refs["showLeftRef"].querySelectorAll("tr");for(let o=0;o<t.length;o++)for(let e=0;e<t[o].children.length;e++)t[o].children[e].setAttribute("data-position",`${o},${e}`);this.selectCell=null,this.submitLabel.margin=this.sizeForm.margin,this.submitLabel.width=this.sizeForm.width,this.submitLabel.height=this.sizeForm.height,this.submitLabel.rowNum=this.sizeForm.rowNum,this.submitLabel.colNum=this.sizeForm.colNum,this.submitLabel.tableWidth=this.tableWidth,this.submitLabel.tableHeight=this.tableHeight,this.submitLabel.fontFace=this.$t("h.drawLabelComponents15"),this.submitLabel.border=!0,this.submitLabel.borderWidth=2,this.submitLabel.tdBotderWidth=1,this.submitLabel.dpi=this.sizeForm.dpi,this.submitLabel.tableCell=[],this.firstTable=this.$refs["showLeftRef"].innerHTML;let l=document.querySelector(".custom-body"),i=[];l&&(i=l.querySelectorAll("td"));const r=document.getElementById("menu");r.classList.remove("active"),i.forEach((e=>{let t={};t.width=this.pxConverterMM(e.offsetWidth,this.sizeForm.dpi),t.height=this.pxConverterMM(e.offsetHeight,this.sizeForm.dpi),t.rowSpan=Number(e.getAttribute("rowSpan"))||1,t.colSpan=Number(e.getAttribute("colSpan"))||1,t.position=[Number(e.getAttribute("data-position").split(",")[0]),Number(e.getAttribute("data-position").split(",")[1])],t.type="",t.data="",t.name="",t.fontSize=28,t.align="center",this.submitLabel.tableCell.push(t)})),this.$refs["showLeftRef"].innerHTML="",this.createLabel(),this.active=1,this.watchActive=this.active,this.$message.closeAll(),document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"==e.target.localName||"img"==e.target.localName){for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff";let t,l;this.cellForm.logo="","td"==e.target.localName?(e.target.style.background="#ccc",t=e.target.dataset.position.split(",")[0],l=e.target.dataset.position.split(",")[1]):"img"==e.target.localName&&(e.target.parentNode.style.background="#ccc",t=e.target.parentNode.dataset.position.split(",")[0],l=e.target.parentNode.dataset.position.split(",")[1]),this.submitLabel.tableCell.forEach((e=>{e.position[0]==t&&e.position[1]==l&&(this.cellForm.type=e.type,this.cellForm.data=e.data,this.cellForm.name=e.name,this.cellForm.fontSize=e.fontSize,this.cellForm.align=e.align,this.cellForm.codeProportion=e.codeProportion?e.codeProportion:10,this.cellForm.imgProportion=e.imgProportion?e.imgProportion:10,this.cellForm.imgHeight=e.imgHeight?e.imgHeight:0,this.cellForm.imgWidth=e.imgWidth?e.imgWidth:0,"logo"==e.type&&(this.cellForm.logo=e.logo))})),"td"==e.target.localName?this.selectCell=e.target:"img"==e.target.localName&&(this.selectCell=e.target.parentNode)}}))}))},modifySaveLabelBody(){let e=this.$refs["showLeftRef"].querySelectorAll("tr");for(let n=0;n<e.length;n++)for(let t=0;t<e[n].children.length;t++)e[n].children[t].setAttribute("data-position",`${n},${t}`);let t=this.tableData,l=t.tableCell;this.selectCell=null,this.submitLabel.margin=this.sizeForm.margin,this.submitLabel.width=this.sizeForm.width,this.submitLabel.height=this.sizeForm.height,this.submitLabel.rowNum=this.sizeForm.rowNum,this.submitLabel.colNum=this.sizeForm.colNum,this.submitLabel.tableWidth=this.tableWidth,this.submitLabel.tableHeight=this.tableHeight,this.submitLabel.fontFace=this.$t("h.drawLabelComponents15"),this.submitLabel.border=t.border,this.submitLabel.borderWidth=2,this.submitLabel.tdBotderWidth=1,this.submitLabel.dpi=this.sizeForm.dpi,this.submitLabel.tableCell=[],this.firstTable=this.$refs["showLeftRef"].innerHTML;let i=document.querySelector(".custom-body"),r=[];i&&(r=i.querySelectorAll("td"));let o=0;const s=document.getElementById("menu");s.classList.remove("active"),r.forEach((e=>{let t={};t.width=this.pxConverterMM(e.offsetWidth,this.sizeForm.dpi),t.height=this.pxConverterMM(e.offsetHeight,this.sizeForm.dpi),t.rowSpan=Number(e.getAttribute("rowSpan"))||1,t.colSpan=Number(e.getAttribute("colSpan"))||1,t.position=[Number(e.getAttribute("data-position").split(",")[0]),Number(e.getAttribute("data-position").split(",")[1])];let i=e.innerHTML.split(".")[0];for(let r=o;r<l.length;r++){if(t.align=l[r].align,t.fontSize=l[r].fontSize,""!=e.innerHTML&&e.innerHTML==l[r].data||i==l[r].data.slice(0,i.length)){t.type=l[r].type,t.data=l[r].data,t.name=l[r].name,o=r+1;break}if(""!=e.innerHTML&&""!=e.innerHTML.split("<")[1]&&void 0!=e.innerHTML.split("<")[1]){if("img"==e.innerHTML.split("<")[1].substring(0,3)&&"QRcode"==l[r].type||"logo"==l[r].type){t.type=l[r].type,t.data=l[r].data,t.name=l[r].name,o=r+1,"logo"==l[r].type&&(t.logo=l[r].logo,t.imgProportion=l[r].imgProportion,t.imgHeight=l[r].imgHeight,t.imgWidth=l[r].imgWidth),"QRcode"==l[r].type&&(t.codeProportion=l[r].codeProportion);break}}else t.type="",t.data="",t.name=""}this.submitLabel.tableCell.push(t)})),this.modifyCreateLabel(),this.active=1,this.watchActive=this.active,document.querySelector(".label2").addEventListener("contextmenu",(e=>{if(e.preventDefault(),"td"==e.target.localName||"img"==e.target.localName){for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff";let t,l;this.cellForm.logo="","td"==e.target.localName?(e.target.style.background="#ccc",t=e.target.dataset.position.split(",")[0],l=e.target.dataset.position.split(",")[1]):"img"==e.target.localName&&(e.target.parentNode.style.background="#ccc",t=e.target.parentNode.dataset.position.split(",")[0],l=e.target.parentNode.dataset.position.split(",")[1]),this.submitLabel.tableCell.forEach((e=>{e.position[0]==t&&e.position[1]==l&&(this.cellForm.type=e.type,this.cellForm.data=e.data,this.cellForm.name=e.name,this.cellForm.fontSize=e.fontSize,this.cellForm.align=e.align,this.cellForm.codeProportion=e.codeProportion?e.codeProportion:10,this.cellForm.imgProportion=e.imgProportion?e.imgProportion:10,this.cellForm.imgHeight=e.imgHeight?e.imgHeight:0,this.cellForm.imgWidth=e.imgWidth?e.imgWidth:0,"logo"==e.type&&(this.cellForm.logo=e.logo))})),"td"==e.target.localName?this.selectCell=e.target:"img"==e.target.localName&&(this.selectCell=e.target.parentNode)}}))},createLabel(){let e=document.createElement("div"),t=this.submitLabel.dpi;e.style.width=this.mmConverterPx(this.submitLabel.width,t),e.style.height=this.mmConverterPx(this.submitLabel.height,t),e.style.background="#fff",e.style.boxSizing="border-box",e.style.padding=this.mmConverterPx(this.submitLabel.margin,t),e.className="label2";let l=this.mmConverterPx(this.submitLabel.tableWidth,t),i=this.mmConverterPx(this.submitLabel.tableHeight,t),r=this.submitLabel.borderWidth+"px solid #000",o=this.submitLabel.tdBotderWidth+"px solid #000",s=`width:${l};\n                      height:${i};\n                      font:${this.submitLabel.fontFace};\n                      border:${r};\n                      border-collapse:collapse;\n                      box-sizing:border-box;`,n=`<table style="${s}">`;for(let a=0;a<this.submitLabel.rowNum;a++){n+="<tr>";for(let e=0;e<this.submitLabel.colNum;e++)for(let l=0;l<this.submitLabel.tableCell.length;l++)if(this.submitLabel.tableCell[l].position[0]==a&&this.submitLabel.tableCell[l].position[1]==e){let i=`\n                            border:${o};\n                            width:${this.mmConverterPx(this.submitLabel.tableCell[l].width,t)};\n                            height:${this.mmConverterPx(this.submitLabel.tableCell[l].height,t)};\n                            font-size:${this.submitLabel.tableCell[l].fontSize}px;\n                            border-collapse:collapse;\n                            text-align:center;\n                            box-sizing:border-box;\n                            text-overflow: ellipsis;\n                            overflow: hidden;\n                            word-break: break-all;\n                            white-space: nowrap;\n                            cursor: pointer;`;n+=`<td style="${i}" data-position="${a},${e}" rowspan="${this.submitLabel.tableCell[l].rowSpan}" colspan="${this.submitLabel.tableCell[l].colSpan}"></td>`}n+="</tr>"}n+="</table>",e.innerHTML=n,this.$refs["showLeftRef"].appendChild(e)},modifyCreateLabel(){let e=document.createElement("div"),t=this.submitLabel.dpi;e.style.width=this.mmConverterPx(this.submitLabel.width,t),e.style.height=this.mmConverterPx(this.submitLabel.height,t),e.style.background="#fff",e.style.boxSizing="border-box",e.style.padding=this.mmConverterPx(this.submitLabel.margin,t),e.className="label2",e.style.display="flex",e.style.flexDirection="row",e.style.justifyContent="center",e.style.alignItems="center";let l,i,r=this.mmConverterPx(this.submitLabel.tableWidth,t),o=this.mmConverterPx(this.submitLabel.tableHeight,t);this.submitLabel.border?(l=this.submitLabel.borderWidth+"px solid #000",i=this.submitLabel.tdBotderWidth+"px solid #000"):(l="none",i="none");let s=`width:${r};\n                      height:${o};\n                      font:${this.submitLabel.fontFace};\n                      border:${l};\n                      border-collapse:collapse;\n                      box-sizing:border-box;`,n=`<table style="${s}">`;for(let a=0;a<this.submitLabel.rowNum;a++){n+="<tr>";for(let e=0;e<this.submitLabel.colNum;e++)for(let l=0;l<this.submitLabel.tableCell.length;l++)if(this.submitLabel.tableCell[l].position[0]==a&&this.submitLabel.tableCell[l].position[1]==e){console.log("align>>>",this.submitLabel.tableCell[l].align);Number(this.mmConverterPx(this.submitLabel.tableCell[l].width,t).split("p")[0]),Number(r.split("p")[0]);let o=`width:${this.mmConverterPx(this.submitLabel.tableCell[l].width,t)};\n                             height:${this.mmConverterPx(this.submitLabel.tableCell[l].height,t)};\n                             border:${i};\n                             font-size:${this.submitLabel.tableCell[l].fontSize}px;\n                             border-collapse:collapse;\n                             text-align:${this.submitLabel.tableCell[l].align};\n                             box-sizing:border-box;\n                             text-overflow: ellipsis;\n                             overflow: hidden;\n                             word-break: break-all;\n                             white-space: nowrap;\n                             cursor: pointer;`;""!=this.submitLabel.tableCell[l].data||""!=this.submitLabel.tableCell[l].logo?n+=`<td style="${o}" data-position="${a},${e}" rowspan="${this.submitLabel.tableCell[l].rowSpan}" colspan="${this.submitLabel.tableCell[l].colSpan}">${document.querySelectorAll("td")[l].innerHTML}</td>`:n+=`<td style="${o}" data-position="${a},${e}" rowspan="${this.submitLabel.tableCell[l].rowSpan}" colspan="${this.submitLabel.tableCell[l].colSpan}"></td>`}n+="</tr>"}n+="</table>",e.innerHTML=n,this.$refs["showLeftRef"].innerHTML="",this.$refs["showLeftRef"].appendChild(e)},saveTableCell(){this.$refs["cellFormRef"].validate((e=>{if(!e)return!1;let t=this.selectCell.clientWidth;if(("data"==this.cellForm.type||"QRcode"==this.cellForm.type)&&!this.cellForm.name)return this.$message.error(this.$t("h.drawLabelComponents71"));let l=this.selectCell.dataset.position.split(",")[0],i=this.selectCell.dataset.position.split(",")[1];this.submitLabel.tableCell.forEach((e=>{if(e.position[0]==l&&e.position[1]==i)if(e.type=this.cellForm.type,e.data=this.cellForm.data,e.name=this.cellForm.name,"logo"!=this.cellForm.type&&(e.fontSize=this.cellForm.fontSize),e.align=this.cellForm.align,this.selectCell.style.textAlign=e.align,this.selectCell.style.fontSize=e.fontSize+"px",this.selectCell.style.color="#000","QRcode"==this.cellForm.type){e.data="GZ88888888",e.codeProportion=this.cellForm.codeProportion;let t=Number(window.getComputedStyle(this.selectCell).width.split("p")[0]),l=Number(window.getComputedStyle(this.selectCell).height.split("p")[0]),i=t-l>0?(l-10)/10*this.cellForm.codeProportion:(t-10)/10*this.cellForm.codeProportion,r=document.createElement("div");new(s())(r,{text:"GZ88888888",width:i,height:i,colorLight:"#ffffff",correctLevel:s().CorrectLevel.H}),r.lastChild.onload=()=>{this.selectCell.innerHTML=`<img\n                                              src="${r.lastChild.getAttribute("src")}"\n                                              style="vertical-align:middle;"\n                                              />`}}else if("logo"==this.cellForm.type){let t,l,i=Number(window.getComputedStyle(this.selectCell).width.split("p")[0]),r=Number(window.getComputedStyle(this.selectCell).height.split("p")[0]);if(this.stepVal?(t=Number(this.mmConverterPx(this.cellForm.imgHeight,this.submitLabel.dpi).split("p")[0]),l=Number(this.mmConverterPx(this.cellForm.imgWidth,this.submitLabel.dpi).split("p")[0])):(t=this.cellForm.imgHeight,l=this.cellForm.imgWidth),this.cellForm.imgHeight>r){let e=this.cellForm.imgHeight-r;t=this.cellForm.imgHeight-10-e,l=this.cellForm.imgWidth-10-e}if(l>i){let e=this.cellForm.imgWidth-i;l=this.cellForm.imgWidth-10-e,t=this.cellForm.imgHeight-10-e}if(t=t/10*this.cellForm.imgProportion,l=l/10*this.cellForm.imgProportion,i-2<=l||r-2<=t)return this.$message.error(this.$t("h.drawLabelComponents72"));e.imgProportion=this.cellForm.imgProportion,e.logo=this.cellForm.logo,e.imgHeight=this.pxConverterMM(t,this.submitLabel.dpi),e.imgWidth=this.pxConverterMM(l,this.submitLabel.dpi),this.cellForm.logo?this.selectCell.innerHTML=`<img\n                                              src="${this.cellForm.logo}"\n                                              style="vertical-align:middle;width:${l}px;height:${t}px"/>`:(e.type="",e.data="",e.name="",this.selectCell.innerHTML="")}else{this.selectCell.innerText=e.data;let l=e.data.length-1,i=this.selectCell.clientWidth;while(i>t)if(this.selectCell.innerText=e.data.slice(0,l)+"...",l-=1,i=this.selectCell.clientWidth,l<1)return void(this.selectCell.innerText=e.data.slice(0,1))}}))}))},svaeLabelContent(){for(let e=0;e<this.submitLabel.tableCell.length;e++)if("data"==this.submitLabel.tableCell[e].type){this.secondDisabled=!0;break}if(!this.secondDisabled)return this.$message.error(this.$t("h.drawLabelComponents73"));this.selectCell=document.querySelector(".label2"),this.secondTable=this.$refs["showLeftRef"].innerHTML,document.querySelector(".label2").removeEventListener("contextmenu",(e=>{})),this.$refs["showLeftRef"].innerHTML="",this.$refs["cellFormRef"].clearValidate(["data","type"]),this.active++,this.watchActive=this.active,this.$refs["showLeftRef"].appendChild(this.selectCell),this.cellForm.type="",this.cellForm.data="",this.cellForm.name=""},checkboxChange(e){e?(document.querySelector("table").style.border="2px solid #000",document.querySelectorAll("td").forEach((e=>{e.style.border="1px solid #000"}))):(document.querySelector("table").style.border="none",document.querySelectorAll("td").forEach((e=>{e.style.border="none"})))},submitLabelJson(){this.$refs["borderFormRef"].validate((e=>{if(!e)return!1;if(!this.borderForm.name)return!1;this.submitLabel.name=this.borderForm.name,this.submitLabel.border=this.borderForm.border;for(let t=0;t<document.querySelectorAll("td").length;t++)document.querySelectorAll("td")[t].style.background="#fff";this.submitLabel.tableCell.forEach(((e,t)=>{"logo"!=e.type&&"QRcode"!=e.type||document.querySelectorAll("td")[t].children[0].setAttribute("src","")})),this.submitLabel.html=document.querySelector(".label2").innerHTML,this.submitLabel.permissonId=23,this.submitLabel.type=this.templateType,(0,g.Vx)({func:"U0018",userId:this.userInfo._id,token:this.userInfo.token,requstData:this.submitLabel}).then((({data:e})=>{if(0!=e.code)return this.$message.error(e.data);this.dialogVisible=!1,this.$emit("refreshTags")})).catch((()=>{this.$message.error(this.$t("h.tips18"))}))}))},modifySubmitLabelJson(){this.$refs["borderFormRef"].validate((e=>{if(!e)return!1;if(!this.borderForm.name)return!1;this.submitLabel.name=this.borderForm.name,this.submitLabel.border=this.borderForm.border;let t=document.createElement("div");t.style.position="fixed",t.style.top="-1000px",document.body.appendChild(t);for(let l=0;l<document.querySelectorAll("td").length;l++)document.querySelectorAll("td")[l].style.background="#fff";this.submitLabel.tableCell.forEach(((e,t)=>{"logo"!=e.type&&"QRcode"!=e.type||document.querySelectorAll("td")[t].children[0].setAttribute("src","")})),this.submitLabel.html=document.querySelector(".label2").innerHTML,this.stepVal=!1,this.submitLabel.permissonId=23,this.submitLabel._id=this.tableData._id,this.submitLabel.type=this.templateType,(0,g.Vx)({func:"U0018",userId:this.userInfo._id,token:this.userInfo.token,requstData:this.submitLabel}).then((({data:e})=>{if(0!=e.code)return this.$message.error(e.data);this.dialogVisible=!1,this.$emit("refreshTags")})).catch((()=>{this.$message.error(this.$t("h.tips18"))}))}))},dialogOpened(){this.$nextTick((()=>{if(0==this.watchActive){let e=(e,t,l)=>{t>100?l(new Error(this.$t("h.drawLabelComponents50")+"100")):l()},t=(e,t,l)=>{t>60?l(new Error(this.$t("h.drawLabelComponents51")+"60")):l()},l=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents52")+"18"+this.$t("h.drawLabelComponents13"))):l()},i=(e,t,l)=>{t>18?l(new Error(this.$t("h.drawLabelComponents53")+"18"+this.$t("h.drawLabelComponents13"))):l()};this.sizeFormRules={width:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents4"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents55"),trigger:["change","blur"]},{validator:e,trigger:["change","blur"]}],height:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents5"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents56"),trigger:["change","blur"]},{validator:t,trigger:["change","blur"]}],rowNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents8"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents57")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents57"),trigger:"change"},{validator:l,trigger:"change"}],colNum:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents9"),trigger:"change"},{type:"number",message:this.$t("h.drawLabelComponents58")},{pattern:/^[1-9]\d*$/,message:this.$t("h.drawLabelComponents58"),trigger:"change"},{validator:i,trigger:"change"}],margin:[{required:!0,message:this.$t("h.tips3")+this.$t("h.drawLabelComponents6"),trigger:["change","blur"]},{pattern:/^(([1-9][0-9]*)(\.\d{1,2})?|0\.\d{1,2})$/,message:this.$t("h.drawLabelComponents59"),trigger:["change","blur"]}]},this.$nextTick((()=>{this.$refs["sizeFormRef"].clearValidate(["width","height","rowNum","colNum","margin"])}))}})),document.querySelector(".show-left").addEventListener("click",(()=>{this.$refs.menuRef.classList.remove("active");for(let e=0;e<document.querySelectorAll("td").length;e++)document.querySelectorAll("td")[e].style.background="#fff"}))},dialogClosed(){const e=document.getElementById("menu");e.classList.remove("active"),this.sizeForm.width="",this.sizeForm.height="",this.sizeForm.rowNum="",this.sizeForm.colNum="",this.sizeForm.margin="",this.colSpanCellNum=0,this.rowSpanCellNum=0,this.cellForm.type="",this.cellForm.data="",this.cellForm.name="",this.cellForm.logo="",this.borderForm.name="",this.selectCell=null,this.$refs["showLeftRef"].innerHTML="",this.submitLabel={name:"",deviceRelate:[{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-218"},{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-735"},{leftMargin:0,printDarkness:8,topMargin:0,printModel:"DL-721"}]},0==this.watchActive?this.$nextTick((()=>{this.$refs["sizeFormRef"].clearValidate(["width","height","rowNum","colNum","margin"])})):1==this.watchActive?this.$refs["cellFormRef"].clearValidate(["type","data","name"]):2==this.watchActive&&this.$refs["borderFormRef"].clearValidate(["name"]),document.querySelector(".show-left").removeEventListener("click",(()=>{this.$refs.menuRef.classList.remove("active")})),this.secondDisabled=!1,this.stepVal=!1,this.active=0,this.watchActive=this.active,this.$emit("closed")},dialogClose(){},mmConverterPx(e,t){return Math.floor(e/25.4*t*100)/100+"px"},pxConverterMM(e,t){return Math.floor(e/t*25.4*100)/100},detectionCell(e,t,l){if(1!=e||1!=t)if(1==t)for(let i=l;i<l-1+e;i++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[i].appendChild(e)}else{for(let e=0;e<t-1;e++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[l-1].appendChild(e)}for(let i=l;i<l-1+e;i++)for(let e=0;e<t;e++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[i].appendChild(e)}}},detectionColCell(e,t,l,i,r,o){if(this.selectCell.parentNode.parentNode.children[l].removeChild(this.selectCell.parentNode.parentNode.children[l].children[i]),1!=t||1!=e)if(1==t)for(let s=r+o;s<r+o+e-1;s++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[s].appendChild(e)}else{for(let e=0;e<t-1;e++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[r+o-1].appendChild(e)}for(let l=r+o;l<r+o+e-1;l++)for(let e=0;e<t;e++){let e=document.createElement("td");e.style.border="2px solid #000",e.style.boxSizing="border-box",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis",this.selectCell.parentNode.parentNode.children[l].appendChild(e)}}},setUpResize(){let e=document.querySelector(".custom-body"),t=[];e&&(t=e.querySelectorAll("tr"));for(let l=0;l<t.length;l++)for(let e=0;e<t[l].children.length;e++)l!=t.length-1&&e!=t[l].children.length-1||1==t[l].children.length?t[l].children[e].style.resize="both":t[l].children[e].style.resize="none";for(let l=0;l<t.length;l++)for(let e=0;e<t[l].children.length;e++){let i=t[l].children[e];this.observer["e"+l+e]=new MutationObserver((e=>{let t=Number(this.mmConverterPx(this.tableHeight,this.sizeForm.dpi).split("p")[0]),l=document.querySelector("table").offsetHeight;while(l>Math.round(t))i.style.height=i.offsetHeight-1+"px",l=document.querySelector("table").offsetHeight})),this.observer["e"+l+e].observe(i,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})}},elInputNumberChangeCol(){this.changeBeforeCol=this.colSpanCellNum},elInputNumberChangeRow(){this.changeBeforeRow=this.rowSpanCellNum}},mounted(){window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.lang=localStorage.getItem("lang"),"EN"==this.lang&&(this.handleRightStyle="10px 30px 0 20px",this.customContentStyle="8px",this.elFormItemContentStyle="0px",this.elFormItemStyle="30px")},beforeDestroy(){let e=document.querySelector(".custom-body"),t=[];e&&(t=e.querySelectorAll("tr"));for(let l=0;l<t.length;l++)for(let e=0;e<t[l].children.length;e++)this.observer&&(this.observer["e"+l+e].disconnect(),this.observer["e"+l+e].takeRecords(),this.observer["e"+l+e]=null)}},C=f,w=(0,d.Z)(C,i,r,!1,null,"26a46736",null),y=w.exports},96077:function(e,t,l){var i=l(60614),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},25787:function(e,t,l){var i=l(47976),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},70648:function(e,t,l){var i=l(51694),r=l(60614),o=l(84326),s=l(5112),n=s("toStringTag"),a=Object,h="Arguments"==o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(l){}};e.exports=i?o:function(e){var t,l,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(l=c(t=a(e),n))?l:h?o(t):"Object"==(i=o(t))&&r(t.callee)?"Arguments":i}},93678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},11060:function(e,t,l){var i=l(1702),r=Error,o=i("".replace),s=function(e){return String(r(e).stack)}("zxcasd"),n=/\n\s*at [^:]*:[^\n]*/,a=n.test(s);e.exports=function(e,t){if(a&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=o(e,n,"");return e}},79587:function(e,t,l){var i=l(60614),r=l(70111),o=l(27674);e.exports=function(e,t,l){var s,n;return o&&i(s=t.constructor)&&s!==l&&r(n=s.prototype)&&n!==l.prototype&&o(e,n),e}},56277:function(e,t,l){var i=l(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},27674:function(e,t,l){var i=l(1702),r=l(19670),o=l(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,l={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(l,[]),t=l instanceof Array}catch(s){}return function(l,i){return r(l),o(i),t?e(l,i):l.__proto__=i,l}}():void 0)},51694:function(e,t,l){var i=l(5112),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},41340:function(e,t,l){var i=l(70648),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},82801:function(e,t,l){"use strict";var i=l(82109),r=l(17854),o=l(35005),s=l(79114),n=l(3070).f,a=l(92597),h=l(25787),c=l(79587),m=l(56277),d=l(93678),p=l(11060),u=l(19781),b=l(31913),g="DOMException",f=o("Error"),C=o(g),w=function(){h(this,y);var e=arguments.length,t=m(e<1?void 0:arguments[0]),l=m(e<2?void 0:arguments[1],"Error"),i=new C(t,l),r=f(t);return r.name=g,n(i,"stack",s(1,p(r.stack,1))),c(i,this,w),i},y=w.prototype=C.prototype,L="stack"in f(g),v="stack"in new C(1,2),$=C&&u&&Object.getOwnPropertyDescriptor(r,g),N=!!$&&!($.writable&&$.configurable),S=L&&!N&&!v;i({global:!0,constructor:!0,forced:b||S},{DOMException:S?w:C});var F=o(g),x=F.prototype;if(x.constructor!==F)for(var R in b||n(x,"constructor",s(1,F)),d)if(a(d,R)){var _=d[R],z=_.s;a(F,z)||n(F,z,s(6,_.c))}},79992:function(e,t,l){"use strict";l.d(t,{GB:function(){return a},M:function(){return i},Uh:function(){return s},X$:function(){return n},h$:function(){return o},p5:function(){return h},sT:function(){return r},zb:function(){return c}});l(82801),l(57658);function i(e,t,l){let i=document.createElement("a");i.href=e,i.target=t||"_self",l&&(i.download=l),i.click(),i=null}function r(e){return new Promise((function(t,l){let i=new FileReader,r="";i.readAsDataURL(e),i.onload=function(){r=i.result},i.onerror=function(e){l(e)},i.onloadend=function(){t(r)}}))}function o(e){let t;return t=encodeURIComponent(e),t=unescape(t),t=window.btoa(t),t}function s(e){let t=!0;return e.charCodeAt(0)>=19968&&e.charCodeAt(0)<=40959&&(t=!1),t?7*e.length+80+"px":14*e.length+80+"px"}function n(){let e=new Date,t=e.getFullYear(),l=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate();return`${t}-${l}-${i}`}function a(e){var t=parseInt(e);if(isNaN(t))return e;t=Math.round(100*e)/100;var l=t.toString(),i=l.indexOf(".");i<0&&(i=l.length,l+=".");while(l.length<=i+2)l+="0";return l}function h(e,t){let l,i=[],r=[];e=e.sort((function(e,l){let i=e[t],r=l[t];return i<r?-1:1})),e.length&&(l=e[0][t]);for(let o in e)e[o][t]===l?r.push(e[o]):(l=e[o][t],i.push(r),r=[e[o]]);return i.push(r),i}const c=(e,t,l)=>{let i=e;for(let s=0;s<t.length;s++){for(let e in t[s])i+=t[s][e]+"\t"+",";i+="\n"}const r="data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(i),o=document.createElement("a");o.href=r,o.download=`${l||"表格数据"}`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}}}]);