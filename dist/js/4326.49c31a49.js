"use strict";(self["webpackChunk_4010_assetweb"]=self["webpackChunk_4010_assetweb"]||[]).push([[4326],{98884:function(e,t,s){s.d(t,{Z:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{top:"0","custom-class":"dialog","show-close":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogVisibleClosed}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("span",[e._v(e._s(e.title))])]),t("div",{staticClass:"right"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){e.dialogVisible=!1}}})])]),t("div",{staticClass:"dialog-body"},[t("ds-table",{attrs:{tableData:e.deleteErrorData,columns:e.deleteColumns,tableConfig:e.errorTableConfig}})],1)])},a=[],l=s(60983),o={components:{DsTable:l.Z},data(){return{errorTableConfig:{index:!0}}},props:{deleteDialogVisible:{type:Boolean,default:!1},deleteErrorData:{type:Array,default:()=>[]},deleteColumns:{type:Array},title:{type:String,default:"删除失败详情"}},computed:{dialogVisible:{get(){return this.deleteDialogVisible},set(e){this.$emit("update:deleteDialogVisible",e)}}},methods:{dialogVisibleClosed(){this.$emit("closed")}}},r=o,n=s(1001),d=(0,n.Z)(r,i,a,!1,null,"3e3e8f93",null),h=d.exports},93082:function(e,t,s){s.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ds-pagination"},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},a=[],l={name:"DsPagination",data(){return{}},props:{total:{required:!0,type:Number},pageSizes:{type:Array,default(){return[20,50,100]}},page:{type:Number,default:1},limit:{type:Number,default:20},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.$emit("pagination",{page:this.currentPage,limit:e})},handleCurrentChange(e){this.$emit("pagination",{page:e,limit:this.pageSize})}}},o=l,r=s(1001),n=(0,r.Z)(o,i,a,!1,null,"2377c114",null),d=n.exports},92003:function(e,t,s){s.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"left-panel"},[e._t("default")],2)},a=[],l={name:"DsQueryFormLeftPanel"},o=l,r=s(1001),n=(0,r.Z)(o,i,a,!1,null,"71d76034",null),d=n.exports},89782:function(e,t,s){s.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"right-panel"},[e._t("default")],2)},a=[],l={name:"DsQueryFormRightPanel"},o=l,r=s(1001),n=(0,r.Z)(o,i,a,!1,null,"c6443ba6",null),d=n.exports},19698:function(e,t,s){s.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ds-query-form"},[e._t("default")],2)},a=[],l={name:"DsQueryForm"},o=l,r=s(1001),n=(0,r.Z)(o,i,a,!1,null,"6c8bfb78",null),d=n.exports},66403:function(e,t,s){s.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ds-search"},[t("el-input",{attrs:{size:"small",placeholder:e.$t("h.keyword"),"prefix-icon":"el-icon-search"},on:{input:e.onInput},model:{value:e.value,callback:function(t){e.value="string"===typeof t?t.trim():t},expression:"value"}},[t("el-button",{attrs:{slot:"suffix",type:"text",size:"small"},on:{click:e.search},slot:"suffix"},[e._v(e._s(e.$t("h.Search")))])],1)],1)},a=[],l={name:"DsSearchBtn",data(){return{}},props:{searchValue:{type:String}},computed:{value:{get(){return this.searchValue},set(e){this.$emit("update:searchValue",e)}}},methods:{search(){this.$emit("search")},onInput(e){""==e&&this.search()}}},o=l,r=s(1001),n=(0,r.Z)(o,i,a,!1,null,"5bd7b965",null),d=n.exports},20331:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"staff"},[t("el-card",{staticClass:"staff-card"},[t("div",{staticClass:"staff-card-header",attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"dept-title"},[t("h3",[e._v(e._s(e.$t("h.department")))])]),t("div",{staticClass:"staff-header"},[t("div",{staticClass:"btns"},[t("ds-query-form",[t("ds-query-form-left-panel",[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.newBillsDialogVisible=!0}}},[e._v(e._s(e.$t("h.newBtn")))]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.showAllStaffs}},[e._v(e._s(e.$t("h.showAllStaff")))]),t("el-dropdown",{attrs:{trigger:"click"}},[t("el-button",{attrs:{size:"small"}},[e._v(e._s(e.$t("h.editBtn"))+" "),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.editStaffForm.apply(null,arguments)}}},[e._v(e._s(e.$t("h.changeBtn")))]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.deleteStaffs.apply(null,arguments)}}},[e._v(e._s(e.$t("h.delBtn")))])],1)],1),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.readDialogVisible=!0}}},[e._v(e._s(e.$t("h.bulkBtn")))])],1),t("ds-query-form-right-panel",[t("ds-search-btn",{attrs:{searchValue:e.andLike},on:{"update:searchValue":function(t){e.andLike=t},"update:search-value":function(t){e.andLike=t},search:e.findAssetSearch}})],1)],1)],1)])]),t("div",{staticClass:"staff-card-content"},[t("div",{staticClass:"dept-tree"},[t("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.deptLoading,expression:"deptLoading"}],ref:"treeDeptsRef",attrs:{"node-key":"_id","highlight-current":"","expand-on-click-node":!1,data:e.treeDepts,props:e.treeDeptsProps},on:{"node-click":e.handleDeptNodeClick},scopedSlots:e._u([{key:"default",fn:function({node:i,data:a}){return t("span",{},[null==a.subId?[t("img",{staticClass:"tree-top-icon",attrs:{src:s(15516)}})]:[t("img",{staticClass:"tree-second-icon",attrs:{src:s(10108)}})],t("span",{staticClass:"text"},[e._v(" "+e._s(a.code+"-"+i.label)+" ")])],2)}}])})],1),t("div",{staticClass:"staff-table"},[t("div",{staticClass:"bills-table"},[t("ds-table",{ref:"billsTableRef",attrs:{loading:e.staffLoading,tableConfig:e.billsTableConfig,columns:e.billsColums,tableData:e.staffBills,rowKey:e=>e._id},on:{handleSelectionChange:e.handleSelectionChange},scopedSlots:e._u([{key:"operation",fn:function({scope:s}){return[t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-s-custom"},on:{click:function(t){return e.allotAccount(s.row)}}},[e._v(e._s(e.$t("h.accountAllocation")))])]}}])})],1),t("div",{staticClass:"bills-pagination"},[t("ds-pagination",{attrs:{small:"",total:e.total,page:e.paginationForm.currentPage,limit:e.paginationForm.pageSize},on:{"update:page":function(t){return e.$set(e.paginationForm,"currentPage",t)},"update:limit":function(t){return e.$set(e.paginationForm,"pageSize",t)},pagination:e.getStaffBills}})],1)])])]),t("new-bills-dialog",{staticClass:"new-bill-dialog",attrs:{title:e.newBillTitle,newBillsDialogVisible:e.newBillsDialogVisible},on:{"update:newBillsDialogVisible":function(t){e.newBillsDialogVisible=t},"update:new-bills-dialog-visible":function(t){e.newBillsDialogVisible=t},opened:e.newBillsDialogOpened,closed:e.newBillsDialogClosed,sbumitForm:e.sbumitStaffForm}},[t("template",{slot:"form"},[t("el-form",{ref:"staffFormRef",attrs:{model:e.staffForm,rules:e.staffFormRules,"label-width":"80px","label-position":"left"}},[t("el-form-item",{attrs:{label:"*"+e.$t("h.workNumber"),prop:"code"}},[t("el-input",{attrs:{placeholder:e.$t("h.tips3")+e.$t("h.workNumber")},model:{value:e.staffForm.code,callback:function(t){e.$set(e.staffForm,"code",t)},expression:"staffForm.code"}}),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("h.tips17"),placement:"top"}},[t("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px",color:"#473bb4",position:"absolute",top:"10px",right:"-20px"}})])],1),t("el-form-item",{attrs:{label:e.$t("h.employeeName"),prop:"name"}},[t("el-input",{attrs:{placeholder:e.$t("h.tips3")+e.$t("h.employeeName")},model:{value:e.staffForm.name,callback:function(t){e.$set(e.staffForm,"name",t)},expression:"staffForm.name"}})],1),t("el-form-item",{attrs:{label:e.$t("h.userName"),prop:"phone"}},[t("el-input",{attrs:{placeholder:e.$t("h.tips3")+e.$t("h.userName")},model:{value:e.staffForm.phone,callback:function(t){e.$set(e.staffForm,"phone",t)},expression:"staffForm.phone"}})],1),t("el-form-item",{attrs:{label:e.$t("h.department"),prop:"deptId"}},[t("ds-select-tree",{attrs:{placeholder:e.$t("h.tips4")+e.$t("h.department"),defaultProps:e.treeDeptsProps,treeData:e.treeDepts},model:{value:e.staffForm.deptId,callback:function(t){e.$set(e.staffForm,"deptId",t)},expression:"staffForm.deptId"}})],1),t("el-form-item",{attrs:{label:e.$t("h.positionStatus"),prop:"workStatus"}},[t("el-select",{attrs:{filterable:""},model:{value:e.staffForm.workStatus,callback:function(t){e.$set(e.staffForm,"workStatus",t)},expression:"staffForm.workStatus"}},e._l(e.staffState,(function(e,s){return t("el-option",{key:s,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],2),t("ds-delete-detail",{attrs:{deleteDialogVisible:e.deleteDialogVisible,deleteColumns:e.deleteColumns,deleteErrorData:e.deleteErrorData},on:{"update:deleteDialogVisible":function(t){e.deleteDialogVisible=t},"update:delete-dialog-visible":function(t){e.deleteDialogVisible=t},closed:e.deleteDialogVisibleClosed}}),t("read-excel-file",{attrs:{readDialogVisible:e.readDialogVisible,setp:e.setp,percentage:e.percentage,errorText:e.errorText,title:e.$t("h.bulkBtn")},on:{"update:readDialogVisible":function(t){e.readDialogVisible=t},"update:read-dialog-visible":function(t){e.readDialogVisible=t},closed:e.readDialogVisibleClosed,download:e.downloadImportFile,submit:e.readDialogVisibleSubmit}},[t("upload-excel-file",{attrs:{value:e.file,loading:e.readLoading},on:{"update:value":function(t){e.file=t}}})],1),t("new-bills-dialog",{staticClass:"new-allow-dialog",attrs:{title:e.$t("h.accountAllocation"),newBillsDialogVisible:e.newAllowDialogVisible},on:{"update:newBillsDialogVisible":function(t){e.newAllowDialogVisible=t},"update:new-bills-dialog-visible":function(t){e.newAllowDialogVisible=t},opened:e.newAllowDialogVisibleOpened,closed:e.newAllowDialogVisibleClosed,sbumitForm:e.newAllowDialogVisibleSubmit}},[t("template",{slot:"form"},[t("el-form",{ref:"allotFormRef",attrs:{"label-position":"left","label-width":"80px",model:e.allotForm,rules:e.allotFormRules}},[t("el-form-item",{attrs:{label:e.$t("h.userName"),prop:"phone"}},[t("el-input",{attrs:{placeholder:e.$t("h.tips3")+e.$t("h.userName")},model:{value:e.allotForm.phone,callback:function(t){e.$set(e.allotForm,"phone","string"===typeof t?t.trim():t)},expression:"allotForm.phone"}})],1),t("el-form-item",{attrs:{label:e.$t("h.password"),prop:"password"}},[t("el-input",{attrs:{type:"password","show-password":"",placeholder:e.$t("h.tips3")+e.$t("h.password")},model:{value:e.allotForm.password,callback:function(t){e.$set(e.allotForm,"password","string"===typeof t?t.trim():t)},expression:"allotForm.password"}})],1),t("el-form-item",{attrs:{label:e.$t("h.roleName"),prop:"roleId"}},[t("el-select",{attrs:{placeholder:e.$t("h.tips4")},model:{value:e.allotForm.roleId,callback:function(t){e.$set(e.allotForm,"roleId",t)},expression:"allotForm.roleId"}},e._l(e.roles,(function(e){return t("el-option",{key:e._id,attrs:{label:e.roleName,value:e._id}})})),1)],1)],1)],1)],2)],1)},a=[],l=(s(57658),s(60983)),o=s(93082),r=s(52086),n=s(66403),d=s(19698),h=s(92003),f=s(89782),c=s(42041),u=s(98884),p=s(95641),g=s(5048),m=s(20629),b=s(79992),w=s(55886),D=s(76080),A=s(83151),F=(s(6214),s(84105)),B={components:{DsTable:l.Z,DsPagination:o.Z,DsSelectTree:r.Z,DsSearchBtn:n.Z,DsQueryForm:d.Z,DsQueryFormLeftPanel:h.Z,DsQueryFormRightPanel:f.Z,NewBillsDialog:c.Z,DsDeleteDetail:u.Z,ReadExcelFile:p.Z,UploadExcelFile:g.Z},data(){return{deptLoading:!1,treeDeptsProps:{value:"_id",label:"deptName",children:"children"},treeDepts:[],andLike:"",dept_id:null,total:0,paginationForm:{currentPage:1,pageSize:20},staffLoading:!1,billsTableConfig:{selection:!0,reserveSelection:!0},billsColums:A.BV,staffBills:[],selectStaffBills:[],newBillsDialogVisible:!1,dialogLoading:{target:".new-bill-dialog",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"},staffForm:{_id:"",name:"",phone:"",deptId:"",workStatus:"",code:""},staffFormRules:{name:[{required:!0,message:this.$t("h.tips3")+this.$t("h.employeeName"),trigger:"blur"}],deptId:[{required:!0,message:this.$t("h.tips4")+this.$t("h.department"),trigger:"change"}]},staffState:A.bx,deleteDialogVisible:!1,deleteColumns:A.e3,deleteErrorData:[],readDialogVisible:!1,file:{value:"",name:""},setp:"upload",percentage:0,errorText:"",readLoading:!1,mapKey:{"员工编码（必填）":"code","员工名称（必填）":"name","员工所在部门名称（必填）":"deptName","手机号码":"phone"},newAllowDialogVisible:!1,newBillTitle:this.$t("h.title102"),allowLoading:{target:".new-allow-dialog",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"},allotForm:{_id:"",phone:"",password:"",staffId:"",roleId:""},allotFormRules:{phone:[{required:!0,message:this.$t("h.tips3")+this.$t("h.userName"),trigger:"blur"}],password:[{required:!0,message:this.$t("h.tips3")+this.$t("h.password"),trigger:"blur"},{min:8,max:16,message:this.$t("h.tips171"),trigger:"blur"}],roleId:[{required:!0,message:this.$t("h.tips4")+this.$t("h.roleName"),trigger:"change"}]},roles:[]}},computed:{...(0,m.rn)(["userInfo"])},methods:{getDepts(){this.deptLoading=!0,(0,D.Ys)({func:"S0004",userId:this.userInfo._id,token:this.userInfo.token,requstData:{}}).then((({data:e})=>{if(this.deptLoading=!1,0!=e.code)return this.$message.error(e.data);this.treeDepts=(0,w.M)(e.data,null)})).catch((()=>{this.deptLoading=!1,this.$message.error(this.$t("h.tips18"))}))},getStaffBills(){this.staffLoading=!0,(0,D.Ys)({func:"S0005",userId:this.userInfo._id,token:this.userInfo.token,requstData:{page:this.paginationForm.pageSize,index:this.paginationForm.currentPage,andLike:this.andLike,dept_id:this.dept_id}}).then((({data:e})=>{if(this.staffLoading=!1,0!=e.code)return this.$message.error(e.data);this.total=e.data[1],this.staffBills=e.data[0]})).catch((()=>{this.staffLoading=!1,this.$message.error(this.$t("h.tips18"))}))},getRoles(){(0,D.Ys)({func:"S0002",userId:this.userInfo._id,token:this.userInfo.token,requstData:{}}).then((({data:e})=>{if(0!=e.code)return this.$message.error(e.data);this.roles=e.data})).catch((()=>{this.$message.error(this.$t("h.tips18"))}))},findAssetSearch(){this.paginationForm.currentPage=1,this.getStaffBills()},handleDeptNodeClick(e){this.dept_id=e._id,this.paginationForm.currentPage=1,this.getStaffBills()},handleSelectionChange(e){this.selectStaffBills=e},showAllStaffs(){this.andLike="",this.paginationForm.currentPage=1,this.dept_id=null,this.getStaffBills(),this.$refs.treeDeptsRef.setCurrentKey(null)},allotAccount(e){this.allotForm._id=e.userId,this.allotForm.staffId=e._id,this.allotForm.phone=e.phone,this.allotForm.password="",e.roleId&&(this.allotForm.roleId=Number(e.roleId)),this.newAllowDialogVisible=!0},editStaffForm(){if(1!==this.selectStaffBills.length)return this.$message.error(this.$t("h.tips22"));this.staffForm._id=this.selectStaffBills[0]._id,this.staffForm.code=this.selectStaffBills[0].code,this.staffForm.deptId=this.selectStaffBills[0].deptId,this.staffForm.name=this.selectStaffBills[0].name,this.staffForm.phone=this.selectStaffBills[0].phone,this.staffForm.workStatus=this.selectStaffBills[0].workStatus,this.newBillTitle=this.$t("h.title103"),this.newBillsDialogVisible=!0},deleteDialogVisibleClosed(){this.deleteErrorData=[]},async deleteStaffs(){if(!this.selectStaffBills.length)return this.$message.error(this.$t("h.tips162"));const e=await this.$confirm(this.$t("h.tips172"),this.$t("h.title18"),{confirmButtonText:this.$t("h.confirmBtn"),cancelButtonText:this.$t("h.cancelBtn"),type:"warning"}).catch((e=>e));if("cancel"===e)return this.$message.info(this.$t("h.tips98"));this.staffLoading=!0,this.deleteErrorData=[],this.multiDeleteStaff(0)},multiDeleteStaff(e){if(e>this.selectStaffBills.length-1)return this.paginationForm.currentPage=1,this.getStaffBills(),this.$refs["billsTableRef"].$refs["dsTableRef"].clearSelection(),void(this.deleteErrorData.length?this.deleteDialogVisible=!0:this.$message.success(this.$t("h.tips173")));(0,D.SR)({func:"D0004",userId:this.userInfo._id,token:this.userInfo.token,requstData:{_id:this.selectStaffBills[e]._id,permissonId:51}}).then((({data:t})=>{0!=t.code&&this.deleteErrorData.push({code:this.selectStaffBills[e].code,name:this.selectStaffBills[e].name,reason:t.data}),this.multiDeleteStaff(++e)})).catch((()=>{this.deleteErrorData.push({code:this.selectStaffBills[e].code,name:this.selectStaffBills[e].name,reason:this.$t("h.tips18")}),this.multiDeleteStaff(++e)}))},newBillsDialogOpened(){this.$refs.staffFormRef.clearValidate()},newBillsDialogClosed(){this.staffForm._id="",this.staffForm.code="",this.staffForm.deptId="",this.staffForm.name="",this.staffForm.phone="",this.staffForm.workStatus="",this.staffForm.workStatus=this.staffState[0].value,this.newBillTitle=this.$t("h.title102"),this.$refs.billsTableRef.$refs.dsTableRef.clearSelection()},sbumitStaffForm(){this.$refs.staffFormRef.validate((e=>{if(!e)return!1;const t=this.$loading(this.dialogLoading);let s=""==this.staffForm._id?50:52;(0,D.Vx)({func:"U0005",userId:this.userInfo._id,token:this.userInfo.token,requstData:{name:this.staffForm.name,phone:this.staffForm.phone,deptId:this.staffForm.deptId,workStatus:this.staffForm.workStatus,_id:this.staffForm._id,code:this.staffForm.code,permissonId:s}}).then((({data:e})=>{if(t.close(),0!=e.code)return this.$message.error(e.data);this.newBillsDialogVisible=!1,this.getStaffBills(),this.$message.success(e.data)})).catch((()=>{t.close(),this.$message.error(this.$t("h.tips18"))}))}))},readDialogVisibleClosed(){this.file.value="",this.file.name="",this.setp="upload",this.percentage=0,this.errorText=""},downloadImportFile(){(0,b.M)(window.$EXCEL_URL+this.$t("h.assetTemplate5")+".xlsx")},readDialogVisibleSubmit(){if(!this.file.value)return this.$notify.error({title:this.$t("h.title18"),message:this.$t("h.title93")});this.readExcel()},readExcel(){this.readLoading=!0;const e=new FileReader;e.onload=e=>{try{const t=e.target.result,s=F.ij(t,{type:"binary",cellDates:!1}),i=s.SheetNames[0],a=F.P6.sheet_to_json(s.Sheets[i]).splice(1);if(!a.length)return this.readLoading=!1,this.$notify.error({title:this.$t("h.title27"),message:this.$t("h.ttips131itle93")});let l=[];for(let e=0;e<a.length;e++){let t={};for(let s in a[e])t[this.mapKey[s]]=a[e][s];l.push(t)}this.readLoading=!1,this.setp="loading",this.percentage=50,(0,D.Vx)({func:"U0060",userId:this.userInfo._id,token:this.userInfo.token,requstData:{staff:l,permissonId:50}}).then((({data:e})=>{if(this.percentage=100,0!=e.code)return this.setp="result",void(this.errorText=e.data);this.setp="result",this.getStaffBills()})).catch((()=>{this.percentage=100,this.setp="result",this.errorText=this.$t("h.tips18")}))}catch(t){this.readLoading=!1,this.$notify({title:this.$t("h.title27"),message:this.$t("h.tips156")})}},e.readAsBinaryString(this.file.value)},newAllowDialogVisibleOpened(){},newAllowDialogVisibleClosed(){this.allotForm._id="",this.allotForm.staffId="",this.$refs.allotFormRef.resetFields()},newAllowDialogVisibleSubmit(){this.$refs.allotFormRef.validate((e=>{if(!e)return!1;const t=this.$loading(this.allowLoading);(0,D.Vx)({func:"U0016",userId:this.userInfo._id,token:this.userInfo.token,requstData:{_id:this.allotForm._id,phone:this.allotForm.phone,password:this.allotForm.password,roleId:this.allotForm.roleId,staffId:this.allotForm.staffId,permissonId:71}}).then((({data:e})=>{if(t.close(),0!=e.code)return this.$message.error(e.data);this.newAllowDialogVisible=!1,this.$message.success(this.$t("h.tips174")),this.getStaffBills()})).catch((()=>{t.close(),this.$message.error(this.$t("h.tips18"))}))}))}},created(){this.getDepts(),this.getStaffBills(),this.getRoles();let e=[this.$t("h.fileDownload10"),this.$t("h.fileDownload11"),this.$t("h.fileDownload12"),this.$t("h.fileDownload13")];const t=[];for(var s in this.mapKey)t.push(s);let i=JSON.stringify(this.mapKey);for(let a=0;a<e.length;a++)i=i.replace(t[a],e[a]);this.mapKey=JSON.parse(i)}},$=B,S=s(1001),v=(0,S.Z)($,i,a,!1,null,"1dd2bd36",null),k=v.exports},55886:function(e,t,s){s.d(t,{M:function(){return i}});s(57658);const i=(e,t)=>{const s=[];return e.forEach(((a,l)=>{if(a.subId==t){const t=i(e,a._id);t.length>0&&(a.children=t),s.push(a)}})),s}},6214:function(e,t,s){s.d(t,{M:function(){return i}});const i={specialPlaneL:/0\d{2,3}-\d{7,8}/,mobile:/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/,qq:/^[1-9][0-9]{4,14}$/,email:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,password:/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?]+)$)^[\w~!@#$%^&*?]{8,18}$/,goalQuota:/^(?:0|[1-9][0-9]?|100)(\.[0-9]{0,2})?$/,money:/^(\d{1,12}(\.\d{0,6})?)?$/}},10108:function(e){e.exports="data:image/png;base64,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"},15516:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAh9JREFUWEdjZGBgYIjq2qX6j5Ghg+H/fxcGBgY+kNgAgk8MjIx7mP4zVCwrc7vNGNq5XZ2JkekEIwODwAA6CsPq/wwMH/79/2fBGNG9ay3D//9Bg8lxcLcwMq5jjOja+XEQRCv28GFk+AJy4P9BGXpQR406kNLYGd4hGOekweBpLIc3kM7cecXQu/4C2QFJUQiOOpCBgWE0BAc0DZqqijFoygrBM4CDrhQDKzMTw+4LT+Bij19/Zth/+enAZBJ0Wyen2zJwsbMyJE/aR7aD0DVSlAZHHUhpLh4NQWJDUEaYh6E8xJBgwhfi5WBgZGRkePvpO0G1nWvOMzx5+4WgOqIyibwYL0NHvCVBw0hRULHwOMPDV58JaiHJgdcfv2doWnEap6HEFDPFgQYMJipiDKMOxBaMoyGIK3HBMsmgTIMh1soMAtzsDM76MgxvPn1nOHjlGcPtZx8ZLt5/A/ePvY4Ugyg/J4OnsTwDKwsTw6aT9xk+fP3FsOfCY7gafUURBlUpfgZLDQkGKSFuhr0XnzB8+PqTYc3Ru3hzMsFcvLzUDcOA7WcfMSzadwMuXhdhyqApK4iiDlSEgHIqDOBqfUd27xp1IMNoCOJLBIM+DRKsLGmsgGAuprH9BI0fdSDBICKgYAgMYA72IeDInp0a//4xHB+Mg+hMTAyWjKAkAJuGYPz/3/U/AwMvpemGEv2MDAyf/zMy7v7772/V6nLPmwBiuYashVMSwwAAAABJRU5ErkJggg=="}}]);