"use strict";(self["webpackChunk_4010_assetweb"]=self["webpackChunk_4010_assetweb"]||[]).push([[4374],{93390:function(t,e,i){i.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.title,"custom-class":"printTempDialog",visible:t.printTempDialogVisible,top:"0"},on:{"update:visible":function(e){t.printTempDialogVisible=e},opened:t.applyPrintTemplate,closed:function(e){t.printTemplateImgList=[]}}},[e("el-row",{staticClass:"imgRow",attrs:{gutter:10}},t._l(t.printTemplateImgList,(function(i,a){return e("el-col",{key:a,attrs:{xs:24,sm:24,lg:8}},[e("div",{staticClass:"tempBox",on:{click:function(e){return t.selectTempalte(i.id)}}},[e("el-image",{attrs:{src:i.base64}}),e("div",{staticClass:"mask"}),e("div",{directives:[{name:"show",rawName:"v-show",value:i.id==t.selectId,expression:"item.id == selectId"}],staticClass:"radioBox"},[e("i",{staticClass:"el-icon-check"})])],1)])})),1)],1)},l=[],n=(i(57658),i(65762)),s={data(){return{printTempDialogVisible:!1,printTemplateImgList:[]}},props:{voucherPrintTempList:{type:Array,default(){return[]}},title:{type:String,default:"单据模板"},selectId:{type:[String,Number]}},methods:{selectTempalte(t){this.$emit("setVoucherTag",t)},async applyPrintTemplate(){let t=document.createElement("CANVAS");for(let e=0;e<this.voucherPrintTempList.length;e++){if(!this.printTempDialogVisible){this.printTemplateImgList=[];break}const i=await(0,n.B)(t,this.voucherPrintTempList[e],!1);let a={};a.base64=i,a.id=this.voucherPrintTempList[e]._id,this.printTemplateImgList.push(a)}}}},r=s,o=i(1001),u=(0,o.Z)(r,a,l,!1,null,"058e0c30",null),c=u.exports},42041:function(t,e,i){i.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{top:"0","custom-class":"dialog",fullscreen:"",visible:t.dialogVisible,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e},opened:t.dialogVisibleOpened,close:t.dialogVisibleClose,closed:t.dialogVisibleClosed}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.dialogVisible=!1}}}),e("span",{staticClass:"title"},[t._v(t._s(t.title))])],1),e("div",{staticClass:"right"},[e("el-button",{attrs:{size:"small"},on:{click:t.cancalFrom}},[t._v(t._s(t.$t("h.cancelBtn")))]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.sbumitForm}},[t._v(t._s(t.$t("h.confirmBtn")))])],1)]),e("div",{ref:"dialogbodyRef",staticClass:"dialog-body"},[e("div",{staticClass:"content",style:"width:"+t.contentWidth},[e("div",{staticClass:"form-label"},[t._t("form")],2),e("div",{staticClass:"table-label"},[e("div",{staticClass:"table-label-head"},[t._t("btns")],2),e("div",{staticClass:"table-label-content"},[t._t("table")],2)])])])])},l=[],n=i(63042),s={data(){return{}},props:{title:{type:String,default:n.a.t("h.title12")},newBillsDialogVisible:{type:Boolean,default:!1},contentWidth:{type:String,default:"950px"}},computed:{dialogVisible:{get(){return this.newBillsDialogVisible},set(t){this.$emit("update:newBillsDialogVisible",t)}}},methods:{cancalFrom(){this.dialogVisible=!1},sbumitForm(){this.$emit("sbumitForm")},dialogVisibleClose(){this.$emit("close"),this.$refs.dialogbodyRef.scrollTop=0},dialogVisibleClosed(){this.$emit("closed")},dialogVisibleOpened(){this.$emit("opened")}}},r=s,o=i(1001),u=(0,o.Z)(r,a,l,!1,null,"130c4832",null),c=u.exports},5791:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filter-drawer"},[e("el-drawer",{attrs:{title:t.$t("h.advancedBtn"),size:550,direction:"rtl",visible:t.drawer},on:{"update:visible":function(e){t.drawer=e}}},[e("div",{staticClass:"filter-form"},[t._t("default")],2),e("div",{staticClass:"filter-btn"},[t._t("set"),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitFilterForm}},[t._v(t._s(t.$t("h.saveBtn")))]),e("el-button",{attrs:{size:"small"},on:{click:t.resetFilterForm}},[t._v(t._s(t.$t("h.resetBtn")))])],2)])],1)},l=[],n={name:"DsFilterDrawer",data(){return{}},props:{filterDrawerVisible:{type:Boolean}},computed:{drawer:{get(){return this.filterDrawerVisible},set(t){this.$emit("update:filterDrawerVisible",t)}}},methods:{submitFilterForm(){this.$emit("submitFilterForm")},resetFilterForm(){this.$emit("resetFilterForm")}}},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"05535b94",null),u=o.exports},17817:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ds-filter-tag"},t._l(t.tagsData,(function(i){return e("el-tag",{key:i.keyStr,attrs:{size:t.tagSize,effect:"dark",closable:""},on:{close:function(e){return t.handleClose(i)}}},[t._v(" "+t._s(i.name)+":"+t._s(i.value.length>8?i.value.substring(0,7)+"...":i.value)+" ")])})),1)},l=[],n={name:"DsFilterTag",data(){return{tags:[{name:this.$t("h.label1"),type:""},{name:this.$t("h.label2"),type:"success"},{name:this.$t("h.label3"),type:"info"},{name:this.$t("h.label4"),type:"warning"},{name:this.$t("h.label5"),type:"danger"}]}},props:{filterTagsData:{type:Array,default:()=>[]},tagSize:{type:String,default:"medium"}},computed:{tagsData:{get(){return this.filterTagsData},set(t){this.$emit("update:filterTagsData",t)}}},methods:{handleClose(t){this.$emit("handleCloseTag",t)}}},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"628dc1ca",null),u=o.exports},93082:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ds-pagination"},[e("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},l=[],n={name:"DsPagination",data(){return{}},props:{total:{required:!0,type:Number},pageSizes:{type:Array,default(){return[20,50,100]}},page:{type:Number,default:1},limit:{type:Number,default:20},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0}},computed:{currentPage:{get(){return this.page},set(t){this.$emit("update:page",t)}},pageSize:{get(){return this.limit},set(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange(t){this.$emit("pagination",{page:this.currentPage,limit:t})},handleCurrentChange(t){this.$emit("pagination",{page:t,limit:this.pageSize})}}},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"2377c114",null),u=o.exports},92003:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"left-panel"},[t._t("default")],2)},l=[],n={name:"DsQueryFormLeftPanel"},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"71d76034",null),u=o.exports},89782:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"right-panel"},[t._t("default")],2)},l=[],n={name:"DsQueryFormRightPanel"},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"c6443ba6",null),u=o.exports},19698:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ds-query-form"},[t._t("default")],2)},l=[],n={name:"DsQueryForm"},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"6c8bfb78",null),u=o.exports},66403:function(t,e,i){i.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ds-search"},[e("el-input",{attrs:{size:"small",placeholder:t.$t("h.keyword"),"prefix-icon":"el-icon-search"},on:{input:t.onInput},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}},[e("el-button",{attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[t._v(t._s(t.$t("h.Search")))])],1)],1)},l=[],n={name:"DsSearchBtn",data(){return{}},props:{searchValue:{type:String}},computed:{value:{get(){return this.searchValue},set(t){this.$emit("update:searchValue",t)}}},methods:{search(){this.$emit("search")},onInput(t){""==t&&this.search()}}},s=n,r=i(1001),o=(0,r.Z)(s,a,l,!1,null,"5bd7b965",null),u=o.exports},65762:function(t,e,i){i.d(e,{B:function(){return a}});const a=(t,e,i,a,r)=>{const o=e.resolution,u=e.width/25.4*o,c=e.height/25.4*o,d=e.xorg/25.4*o,m=e.yorg/25.4*o,p=25.4/o;t.style["display"]="block",t.style.background="#fff",t.width=u,t.height=c;const g=t.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,u,c);const f=new Image;return f.src=e.txImg,new Promise(((t,i)=>{f.onload=function(){if(g.drawImage(f,d,m),e.bkImg){const i=new Image;i.src=e.bkImg,i.onload=function(){g.drawImage(i,0,0),t()}}g.font=`${e.fontSize}px ${e.fontFace}`,t()}})).then((()=>new Promise(((o,u)=>{function c(u){const f=e.item[u];if("text"==f.type){const r=f.alignH,h=f.width,b=f.height,v=l(h/p,b/p),y=n(v,e.fontSize,e.fontFace);if("center"==r)if(y.textAlign="center",a){let t="";a[f.name]&&(t=a[f.name]),y.fillText(s(y,t,h/p),h/p/2,b/p/2+3)}else y.fillText(s(y,f.data,h/p),h/p/2,b/p/2+3);else if(a){let t="";a[f.name]&&(t=a[f.name]),y.fillText(s(y,t,h/p),5,b/p/2+3)}else y.fillText(s(y,f.data,h/p),5,b/p/2+3);const R=new Image;R.src=v.toDataURL("image/png"),R.onload=function(){if(g.drawImage(R,f.xpos/p+d/2,f.ypos/p+m),u==e.item.length-2&&!i)return o(t.toDataURL("image/png")),!1;u+=1,c(u)}}else if("table"==f.type){const i=function(a){const u=f.itemData[a],c=u.width,h=u.height,b=u.interval,v=function(y){const R=u.alignH,A=l(c/p,h/p),z=n(A,18,e.fontFace);if("center"==R)if(z.textAlign="center","index"==u.name)z.fillText(s(z,y+1,c/p),c/p/2,h/p/2+3);else{let t=r[y][u.name];t||(t=""),z.fillText(s(z,t,c/p),c/p/2,h/p/2+3)}else if("index"==u.name)z.fillText(s(z,y+1,c/p),5,h/p/2+3);else{let t=r[y][u.name];t||(t=""),z.fillText(s(z,t,c/p),5,h/p/2+3)}const w=new Image;w.src=A.toDataURL("image/png"),w.onload=function(){const e=u.ypos+b*y;g.drawImage(w,u.xpos/p+d/2,e/p+m),a==f.itemData.length-1&&y==r.length-1&&o(t.toDataURL("image/png")),y==r.length-1&&a<f.itemData.length-1?(a+=1,i(a)):y<r.length-1&&(y+=1,v(y))}};v(0)};i(0)}}c(0)})))).then((t=>new Promise(((e,i)=>{e(t)}))))};function l(t,e){const i=document.createElement("canvas");return i.style["display"]="block",i.style.background="#fff",i.width=t,i.height=e,i}function n(t,e,i){const a=t.getContext("2d");return a.fillStyle="#000",a.font=`${e}px ${i}`,a.textBaseline="middle",a}function s(t,e,i){let a=t.measureText(e).width,l="…",n=t.measureText(l).width;if(a<=i||a<=n)return e;{let s=e.length;while(a>=i-n&&s-- >0)e=e.substring(0,s),a=t.measureText(e).width;return e+l}}},78509:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IArs4c6QAAANtQTFRFAAAAQEC/MzPMKiqqQCqqQEC/PDy0QjmzRjWwRDOyRDuySDivRjayQzy1ST22RDm1QzexRjy0RTi2Qzi0Rzi0Rzm1RjmyRjm1Rjm2RTmyRTm1RTy1SDm1Rzm1RjuzRzq1Rzq1Rjm0Rjq0Rjq1Rzq0Rzq0RjmyRju1RjuzRTm0Rzu0Rjq1Rzq0RzuzRzu1Rjq0Rjq0Rzq0Rjq0RjqzRzu0Rju1RjqzRju0Rzu0Rzu0Rzu0Rju0Rzu1Rju0RjuzRzq0Rjq0Rzu0Rzu0Rzu0Rzu0Rzq0Rju1Rzu0Rzu0GyDpQAAAAEh0Uk5TAAQFBgwMERsdHh4gISYqLS4zO0RESExMUFlZWVlaW11hZmpuc3d4eHl9fX+MlJSVnaanqKmyubq6u7/M2N3e4+Tq6+74+fr743uhXQAAAQ5JREFUGBkFwYtC0mAYANCDmwFz1bKEbl5SpNjSldS6uvkjyvf+T+Q5AOVlN2y3Q3dZAoDie2rn0yybztt0UwDwPtU5QF6nE4BFXwFA1S+A434MAIz7YyhSBfA1/oygSgXWNcDriHgB6jXlJgc4ivg3AvmmtGwBOL14Bmg/6+YAADD75W4COI2IOANMBrsMMBrdR7wCZDu7DGA/4nEfkG3dTQAOI/4DTAbdHOBTxE+A2W/LFuA6ogG4+qLc5IC/EW8BeSpZ14D7iOeA1RpFquDsW0RcvwEvUwHvbsc4b5qmaQ5hfPsRWPQVAFT9AuBDWuUA+SqdAHBwk9rZdG9vOmvTjwMAUC674eFh6JYl4Al+PCInOKf+DQAAAABJRU5ErkJggg=="}}]);